swagger: '2.0'
info:
  description: A set of endpoints to interact with RegioJet transport services. Search for connections, book tickets, see the list of served stations and more. All endpoints consume and produce JSON strings, with the exception of ticket printing (/tickets/{ticketId}/print) that produce printable HTML code.
  version: 1.2.0
  title: RegioJet API
  contact:
    email: developers@studentagency.cz
host: brn-qa-ybus-pubapi.sa.cz
basePath: /restapi
schemes:
  - https
consumes:
  - application/json
produces:
  - application/json

# tags are used for organizing operations
tags:
  - name: Users
    description: User account related operations
  - name: Routes
    description: Routes search
  - name: Tickets
    description: Ticket related operations
  - name: Payments
    description: Payment operations
  - name: Discounts
    description: Discount operations
  - name: AppleWallet
    description: Apple Wallet operations
  - name: Addons
    description: Addons operations
  - name: Others
    description: Others
  - name: Identities
    description: User identities related operations
  - name: Account
    description: Accounts related operations

parameters:

  xApplicationOrigin:
    in: header
    name: X-Application-Origin
    type: string
    enum: [ APP, AFF, CAT, OCT, DEV, DOT, NOT, WEB, KSK ]
    default: NOT
    required: false
    description: Application origin
      - APP - Mobile application (Android / Apple)
      - AFF - Affiliate application which is managed by third party
      - CAT - Web application used to sell catering
      - DEV - Only for development and testing
      - DOT - Check-in application for ticket sales on a train or bus
      - KSK - Kiosks
      - NOT - Unknown application type

  xLang:
    in: header
    name: X-Lang
    type: string
    default: en
    required: false
    description: |
      The language into which to localise the response. It is not an ISO country code, even though some values are the same. Possible values are

      - `cs` (Czech)
      - `sk` (Slovak)
      - `de` (German)
      - `hu` (Hungarian)
      - `fr` (French)
      - `es` (Spanish)
      - `ru` (Russian)
      - `ua` (Ukrainian)
      - `zh` (Chinese)
      - `en` (English)

      Defaults to "en" on any other value. All endpoints accept this parameter, though the one for translations (/consts/translations/{lang}) ingores it and uses the language found in path instead.

  xCurrency:
    in: header
    name: X-Currency
    type: string
    default: EUR
    required: false
    description: Monetary unit to be used in responses. Use either "CZK" for Czech Crown, or "EUR" for Euro. Defaults to "EUR" on any other value.

  xBodyHash:
    in: header
    name: X-Body-Hash
    type: string
    description: Hash of the request body HMAC(SHA-3-512(body), secretKey).

  xReCaptchaToken:
    in: header
    name: X-ReCaptcha-Token
    type: string
    description: Token (hash) provided Google ReCaptcha v3.

  ticketCode:
    in: path
    name: ticketCode
    type: string
    required: true
    description: "Unique numeric code representing a single ticket."
    x-example: "1777480607"

  ticketId:
    in: path
    name: ticketId
    type: integer
    format: int64
    required: true
    description: ID of the ticket with which to perform the given action (print, cancel, rate, etc.)

  sectionId:
    in: path
    name: sectionId
    type: integer
    format: int64
    required: true
    description: ID of bus connection.

  timeTicketId:
    in: path
    name: timeTicketId
    type: integer
    format: int64
    required: true
    description: ID of the timeTicket with which to perform the given action (get, print, cancel, etc.)

  sroTicketId:
    in: path
    name: sroTicketId
    type: integer
    format: int64
    required: true
    description: ID of the seat reservation only ticket with which to perform the given action (get, print, cancel, etc.)

  accountCode:
    in: path
    name: accountCode
    type: string
    required: true
    description: Text code identifying a customer's account.

  routeId:
    in: path
    name: routeId
    type: string
    required: true
    description: "ID of the route that contains IDs of sections separed by , (example: section0.id,section1.id, ... sectionx.id)"

  stationId:
    in: path
    name: stationId
    type: integer
    format: int64
    required: true
    description: "ID of the station"

  timetableId:
    in: path
    name: timetableId
    type: integer
    format: int64
    required: true
    description: "ID of the timetable"

  txToken:
    in: header
    name: X-TxToken
    type: string
    description: Token (hash) identified transaction.

  ticketType:
    in: path
    name: ticketType
    type: string
    enum: [RJ_SEAT, RJ_TIME, RJ_SRO]
    required: true
    description: Ticket type

  referer:
    in: header
    name: referer
    type: string
    required: false
    description: "redirect URL where customer gonna be transfered after payment complete"

securityDefinitions:

  Bearer:
    description: Authorization for customer
    type: apiKey
    name: Authorization
    in: header

  BearerHash:
    description: Hash of the Bearer Token HMAC(SHA-3-512(token), secretKey).
    type: apiKey
    name: X-Token-Hash
    in: header

  BasicAuth:
    description: Authorization for affiliate partner
    type: basic

  OAuth2:
    type: oauth2
    flow: accessCode
    authorizationUrl: https://example.com/oauth/authorize
    tokenUrl: https://example.com/oauth/token
    scopes:
      user: Logged user

paths:
  /routes/search:
    get:
      tags:
        - Routes
      summary: Get collection of all routes that satisfy specified search criteria for the route.
      description: Authorization not required (filtres info bubbles)
      operationId: searchRoutes
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xCurrency'
        - in: query
          name: fromLocationId
          required: true
          type: integer
          format: int64
        - in: query
          name: fromLocationType
          required: true
          type: string
          enum: [CITY, STATION]
        - in: query
          name: toLocationId
          required: true
          type: integer
          format: int64
        - in: query
          name: toLocationType
          required: true
          type: string
          enum: [CITY, STATION]
        - in: query
          name: departureTime
          description: Departure date-time
          required: false
          default: now()
          type: string
          format: date-time
        - in: query
          name: tariffs
          description: Ticket tariff
          required: false
          default: REGULAR
          type: array
          items:
            type: string
        - in: query
          name: actionPrice
          description: "Code indication of a current marketing action. Filtres searched routes on current marketing action. List of all marketing action for current route included in endpoint /consts/actionPrices."
          required: false
          type: string

      responses:
        200:
          description: Route search successfully finished
          schema:
            $ref: '#/definitions/SearchResult'
        400:
          $ref: '#/responses/400'
        404:
          $ref: '#/responses/404'

  /routes/search/simple:
    get:
      tags:
        - Routes
      summary: Get collection of all routes that satisfy specified search criteria for the route.
      description: Authorization not required (filtres info bubbles)
      operationId: simpleSearchRoutes
      consumes:
        - "application/1.2.0+json"
      produces:
        - "application/1.2.0+json"
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xCurrency'
        - in: header
          name: X-Used-DepartureFromDateTime
          type: string
          format: date-time
          description: "Used for repeatable move FORWARD/BACKWARD. Bears FROM date-time value used for previous route search (response returned in header)"
        - in: header
          name: X-Used-DepartureToDateTime
          type: string
          format: date-time
          description: "Used for repeatable move FORWARD/BACKWARD. Bears TO date-time value used for previous route search (response returned in header)"
        - in: query
          name: fromLocationId
          required: true
          type: string
        - in: query
          name: fromLocationType
          required: true
          type: string
          enum: [CITY, STATION, AUTO]
        - in: query
          name: toLocationId
          required: true
          type: string
        - in: query
          name: toLocationType
          required: true
          type: string
          enum: [CITY, STATION, AUTO]
        - in: query
          name: departureDate
          description: Departure date
          required: false
          default: now()
          type: string
          format: date
        - in: query
          name: tariffs
          description: Ticket tariff
          required: false
          default: REGULAR
          type: array
          items:
            type: string
        - in: query
          name: actionPrice
          description: "Code indication of a current marketing action. Filtres searched routes on current marketing action. List of all marketing action for current route included in endpoint /consts/actionPrices."
          required: false
          type: string
        - in: query
          description: "Move search FORWARD/BACKWARD"
          name: move
          required: false
          type: string
          enum: [BACKWARD, FORWARD]
        - in: query
          description: "Affiliate code"
          name: affiliate
          required: false
          type: string
          enum: [goeu04082014, info27082014]

      responses:
        200:
          description: Route search successfully finished
          headers:
            X-Used-DepartureFromDateTime:
              type: string
              format: date-time
              description: "Used FROM date value for route search (after applied next/previous connection request)."
            X-Used-DepartureToDateTime:
              type: string
              format: date-time
              description: "Used TO date value for route search (after applied next/previous connection request)."
          schema:
            $ref: '#/definitions/SimpleSearchResult'
        400:
          $ref: '#/responses/400'
        404:
          description: No routes found
          schema:
            $ref: '#/definitions/ErrorResponse'

  /routes/search/RJ_SRO:
    get:
      tags:
        - Routes
      summary: Search routes available for SRO tickets.
      description: Returns a list of all available routes for SRO tickets that satisfy specified search criteria.
      operationId: searchSroRoutes
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xCurrency'
        - $ref: '#/parameters/xLang'
        - in: query
          name: fromLocation
          required: true
          type: string
          x-example: 10202003
        - in: query
          name: fromLocationType
          required: false
          type: string
          enum: [CITY, STATION, AUTO]
          default: STATION
          x-example: CITY
        - in: query
          name: toLocation
          required: true
          type: string
          x-example: 10202002
        - in: query
          name: toLocationType
          required: false
          type: string
          enum: [CITY, STATION, AUTO]
          default: STATION
          x-example: CITY
        - in: query
          name: departureDate
          description: Date and time of departure. Date is required. Time is optional.
          required: false
          default: now()
          type: string
          format: date-time
          x-example: "2020-12-03T09:41:00"
        - in: query
          name: seatClass
          description: Seat class.
          required: false
          type: integer
          enum: [1, 2]
          default: 2
          x-example: 2
        - in: query
          name: numberOfPassengers
          description: Number of passengers.
          required: false
          type: integer
          default: 1
          x-example: 1
      responses:
        200:
          description: List of all available routes.
          schema:
            type: array
            items:
              $ref: '#/definitions/SroRoute'
        400:
          $ref: '#/responses/400'
        404:
          description: No routes found
          schema:
            $ref: '#/definitions/ErrorResponse'
        503:
          description: "Service unavailable."

  /routes/{routeId}/simple:
    get:
      tags:
        - Routes
      summary: Get detail for the given route.
      operationId: getSimpleRouteDetail
      parameters:
        - $ref: '#/parameters/routeId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xCurrency'
        - in: query
          name: fromStationId
          required: true
          type: integer
          format: int64
        - in: query
          name: toStationId
          required: true
          type: integer
          format: int64
        - in: query
          name: tariffs
          description: Ticket tariff
          required: false
          default: REGULAR
          type: array
          items:
            type: string

      responses:
        200:
          description: Seats reservation status successfully loaded
          schema:
            $ref: '#/definitions/SimpleRouteDetail'
        400:
          $ref: '#/responses/400'

  /routes/{routeId}/RJ_SRO:
    get:
      tags:
        - Routes
      summary: Get details for the given route.
      operationId: getSroRouteDetail
      parameters:
        - $ref: '#/parameters/routeId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xCurrency'
        - in: query
          name: fromStationId
          required: true
          type: integer
          format: int64
          x-example: 372825000
        - in: query
          name: toStationId
          required: true
          type: integer
          format: int64
          x-example: 3088864001
        - in: query
          name: departureDate
          required: true
          type: string
          format: date-time
          x-example: "2020-12-03T09:41:00"
        - in: query
          name: seatClass
          description: Seat class.
          type: integer
          enum: [1, 2]
          x-example: 2
        - in: query
          name: numberOfPassengers
          description: Number of passengers.
          type: integer
          x-example: 1
      responses:
        200:
          description: Route detail.
          schema:
            $ref: '#/definitions/SroRouteDetail'
        400:
          $ref: '#/responses/400'

  /routes/{stationId}/departures:
    get:
      tags:
        - Routes
      summary: Get departures for the given station.
      operationId: getDepartures
      consumes:
        - "application/1.2.0+json"
      produces:
        - "application/1.2.0+json"
      parameters:
        - $ref: '#/parameters/stationId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: query
          name: limit
          description: "Maximal count of returned objects. Default value is 19."
          required: false
          type: integer
          default: 19
      responses:
        200:
          description: Departures search successfully finished
          schema:
            $ref: '#/definitions/DepartureConnection'
        400:
          $ref: '#/responses/400'

  /routes/{stationId}/arrivals:
    get:
      tags:
        - Routes
      summary: Get arrivals for the given station.
      operationId: getArrivals
      consumes:
        - "application/json"
      produces:
        - "application/json"
      parameters:
        - $ref: '#/parameters/stationId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: query
          name: limit
          description: "Maximal count of returned objects. Default value is 19."
          required: false
          type: integer
          default: 19
      responses:
        200:
          description: Arrivals search successfully finished
          schema:
            $ref: '#/definitions/ArrivalConnection'
        400:
          $ref: '#/responses/400'

  /routes/{routeId}/passengersData:
    post:
      tags:
        - Routes
      summary: Get mandatory data of  first passenger and others passengers for the given route.
      operationId: getPassengersData
      parameters:
        - $ref: '#/parameters/routeId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xCurrency'
        - in: body
          name: filter
          required: true
          schema:
            $ref: '#/definitions/PassengersDataRequest'

      responses:
        200:
          description: Seats reservation status successfully loaded
          schema:
            $ref: '#/definitions/PassengersDataResponse'

  /routes/{routeId}/freeSeats:
    post:
      tags:
        - Routes
      summary: Get route tandem free seats group by vehicle
      operationId: getRouteFreeSeatsByRouteId_1_2_0
      deprecated: true
      parameters:
        - $ref: '#/parameters/routeId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: header
          name: X-Occupied
          description: "Return occupied seats. To turn off have to be deactivated at administrative app and X-occupied have to be false. Default value is false."
          type: boolean
          default: false
        - in: body
          name: request
          description: Descriptions of the Route detail
          required: true
          schema:
            $ref: '#/definitions/RouteSeatsRequest_1_0_0'
      responses:
        200:
          description: Route seats info successfully loaded
          schema:
            $ref: '#/definitions/RouteSeatsResponse_1_2_0'
        400:
          $ref: '#/responses/400'

  /routes/freeSeats:
    post:
      tags:
        - Routes
      summary: "Get route tandem free seats grouped by vehicles."
      operationId: getRouteFreeSeats
      consumes:
        - "application/1.1.0+json"
      produces:
        - "application/1.1.0+json"
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xCurrency'
        - in: header
          name: X-Occupied
          description: "Return occupied seats. To turn off have to be deactivated at administrative app and X-occupied have to be false. Default value is false."
          type: boolean
          default: false
        - in: body
          name: request
          description: Descriptions of the Route detail
          required: true
          schema:
            $ref: '#/definitions/RouteSeatsRequest'
      responses:
        200:
          description: Route seats info successfully loaded
          schema:
            $ref: '#/definitions/RouteSeatsResponse'
        400:
          $ref: '#/responses/400'

  /tickets:
    get:
      tags:
        - Tickets
      summary: Get all tickets of the user
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      operationId: getAllTickets
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: query
          name: limit
          description: "Page size limit (states how many records should return)."
          type: integer
          default: 10
        - in: query
          name: offset
          description: "Page number (value must be dividable by limit)."
          type: integer
          default: 0
        - in: query
          name: departureFrom
          description: "Filtres tickets with departure date higher than"
          type: string
          format: date-time
        - in: query
          name: departureTo
          description: "Filtres tickets with departure date lower than"
          type: string
          format: date-time
        - in: query
          name: arrivalFrom
          description: "Filtres tickets with arrival date higher than"
          type: string
          format: date-time
        - in: query
          name: arrivalTo
          description: "Filtres tickets with arrival date lower than"
          type: string
          format: date-time
        - in: query
          name: ticketStates
          description: "Filtres tickets by state (UNPAID, VALID, USED)"
          type: array
          uniqueItems: true
          items:
            type: string
            enum: [UNPAID, VALID, USED]
        - in: query
          name: sortProperty
          description: "Sort property name"
          type: string
          enum: [BOOKING_TIME, CODE, DEPARTURE, EXPIRATION, PAID_TIME]
          default: DEPARTURE
        - in: query
          description: "Sorting direction"
          name: sortDirection
          type: string
          enum: [ASC, DESC]
          default: DESC
        - in: query
          description: "Get simplification of the tickets"
          name: simple
          type: boolean
          default: false
        - in: query
          description: "Get only those tickets which have at least one section where catering is enabled."
          name: cateringEnabled
          type: boolean
          default: null

      responses:
        200:
          description: All user's tickets successfully loaded
          headers:
            X-Pagination-Total:
              type: integer
              description: "Number of elements honouring filter criteria"
          schema:
            type: array
            items:
              $ref: '#/definitions/Ticket'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'

  /tickets/{accountCode}/affiliate:
    get:
      tags:
        - Tickets
      summary: Get all tickets of the user for affiliate partner
      security:
        - BasicAuth: []
      operationId: getAllTicketsForAffiliate
      parameters:
        - $ref: '#/parameters/accountCode'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: query
          name: limit
          description: "Page size limit (states how many records should return)."
          type: integer
          default: 10
        - in: query
          name: offset
          description: "Page number (value must be dividable by limit)."
          type: integer
          default: 0
        - in: query
          name: departureFrom
          description: "Filtres tickets with departure date lower than"
          type: string
          format: date-time
        - in: query
          name: departureTo
          description: "Filtres tickets with departure date lower than"
          type: string
          format: date-time
        - in: query
          name: arrivalFrom
          description: "Filtres tickets with arrival date higher than"
          type: string
          format: date-time
        - in: query
          name: arrivalTo
          description: "Filtres tickets with arrival date lower than"
          type: string
          format: date-time
        - in: query
          name: ticketStates
          description: "Filtres tickets by state (UNPAID, VALID, USED)"
          type: array
          uniqueItems: true
          items:
            type: string
            enum: [UNPAID, VALID, USED]
        - in: query
          name: sortProperty
          description: "Sort property name"
          type: string
          enum: [BOOKING_TIME, CODE, DEPARTURE, EXPIRATION, PAID_TIME]
          default: DEPARTURE
        - in: query
          description: "Sorting direction"
          name: sortDirection
          type: string
          enum: [ASC, DESC]
          default: DESC
      responses:
        200:
          description: All user's tickets successfully loaded
          headers:
            X-Pagination-Total:
              type: integer
              description: "Number of elements honouring filter criteria"
          schema:
            type: array
            items:
              $ref: '#/definitions/TicketAffiliate'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'

  /tickets/unpaid:
    get:
      tags:
        - Tickets
      summary: Get unpaid tickets (and tickets with remaining items to pay) of the user.
      operationId: getUnpaidTickets
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: query
          name: sortProperty
          description: "Sort property name"
          type: string
          enum: [BOOKING_TIME, CODE, DEPARTURE, EXPIRATION, PAID_TIME]
          default: DEPARTURE
        - in: query
          description: "Sorting direction"
          name: sortDirection
          type: string
          enum: [ASC, DESC]
          default: DESC
      responses:
        200:
          description: Unpaid user's tickets successfully loaded
          schema:
            type: array
            items:
              $ref: '#/definitions/Ticket'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'

  /tickets/timetickets/unpaid:
    get:
      tags:
        - TimeTickets
      summary: Get unpaid time tickets of the user.
      operationId: getUnpaidTimeTickets
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: Unpaid user's tickets successfully loaded
          schema:
            type: array
            items:
              $ref: '#/definitions/TimeTicket'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'

  /tickets/create/unregistered:
    post:
      tags:
        - Tickets
      summary: Create new ticket(s) for new account
      operationId: createUnregisteredTickets
      consumes:
        - "application/1.2.0+json"
      produces:
        - "application/1.2.0+json"
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xCurrency'
        - $ref: '#/parameters/xBodyHash'
        - $ref: '#/parameters/xReCaptchaToken'
        - in: body
          name: ticketsRequest
          description: Ticket(s) to be created
          required: true
          schema:
            $ref: '#/definitions/CreateUnregisteredTicketRequest'
      responses:
        201:
          description: Ticket(s) successfully created
          schema:
            $ref: '#/definitions/CreateTicketResponseUnregistered'
        400:
          $ref: '#/responses/400'

  /tickets/create/affiliate:
    post:
      tags:
        - Tickets
      summary: Create new ticket(s) for new account as affiliate partner
      operationId: createTicketsByAffiliate
      security:
        - BasicAuth: []
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xCurrency'
        - in: body
          name: ticketsRequest
          description: Ticket(s) to be created
          required: true
          schema:
            $ref: '#/definitions/CreateUnregisteredTicketRequestAffiliate'
      responses:
        201:
          description: Ticket(s) successfully created
          schema:
            $ref: '#/definitions/CreateTicketResponseUnregisteredAffiliate'
        400:
          $ref: '#/responses/400'


  /tickets/create/registered:
    post:
      tags:
        - Tickets
      summary: Create new ticket(s) for an account
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      operationId: createRegisteredTickets
      consumes:
        - "application/1.2.0+json"
      produces:
        - "application/1.2.0+json"
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xCurrency'
        - in: body
          name: ticketsRequest
          description: Ticket(s) to be created
          required: true
          schema:
            $ref: '#/definitions/CreateRegisteredTicketRequest'
      responses:
        201:
          description: Ticket(s) successfully created
          schema:
            $ref: '#/definitions/CreateTicketResponseRegistered'

  /tickets/{ticketId}:
    get:
      tags:
        - Tickets
      summary: Get ticket by ID
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      operationId: getTicketById
      parameters:
        - $ref: '#/parameters/ticketId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: Ticket detail successfully retrieved
          schema:
            $ref: '#/definitions/Ticket'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /tickets/{accountCode}/{ticketId}/affiliate:
    get:
      tags:
        - Tickets
      summary: Get ticket by ID for affiliate partner
      security:
        - BasicAuth: []
      operationId: getTicketByIdforAffiliate
      parameters:
        - $ref: '#/parameters/ticketId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/accountCode'
      responses:
        200:
          description: Ticket detail successfully retrieved
          schema:
            $ref: '#/definitions/TicketAffiliate'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /tickets/{accountCode}/{ticketId}/cancel/affiliate:
    put:
      tags:
        - Tickets
      summary: Delete ticket by ID for affiliate partners
      security:
        - BasicAuth: []
      operationId: cancelTicketByAffiliate
      parameters:
        - $ref: '#/parameters/accountCode'
        - $ref: '#/parameters/ticketId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: body
          name: request
          required: true
          schema:
            $ref: '#/definitions/CancelTicketRequest'
      responses:
        200:
          $ref: '#/responses/200'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'


  /tickets/timeTickets/{ticketId}:
    get:
      tags:
        - TimeTickets
      summary: Get ticket by ID
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      operationId: getTimeTicketById
      parameters:
        - $ref: '#/parameters/ticketId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: Ticket detail successfully retrieved
          schema:
            $ref: '#/definitions/TimeTicket'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /tickets/{ticketId}/cancel:
    put:
      tags:
        - Tickets
      summary: Delete ticket by ID
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      operationId: cancelTicket
      parameters:
        - $ref: '#/parameters/ticketId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: body
          name: request
          required: true
          schema:
            $ref: '#/definitions/CancelTicketRequest'
      responses:
        200:
          $ref: '#/responses/200'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /tickets/{ticketId}/qrcode:
    get:
      tags:
        - Tickets
      produces:
        - text/csv
      summary: Get QR code for ticket
      description: Get QR code content in CSV format (European CSV/DSV). Fields separated by the semicolon character and row does not terminate with the newline character.
      operationId: getTicketQrCode
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/ticketId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: QR code content in CSV format (European CSV/DSV). Fields separated by the semicolon character and row does not terminate with the newline character.
          schema:
            $ref: '#/definitions/QrCodeTicket'
          examples:
            text/csv: '2;RJ_SEAT;123456789'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'


  /tickets/{ticketId}/qrcode/png:
    get:
      tags:
        - Tickets
      summary: GR code for ticket
      description: Get QR code as a PNG image
      operationId: getTicketQrCodePng
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      produces:
        - image/png
      parameters:
        - $ref: '#/parameters/ticketId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: QR code png image
          schema:
            $ref: '#/definitions/QrCodeTicket'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'
  /tickets/account/qrcode:
    get:
      tags:
        - Tickets
      produces:
        - text/csv
      summary: Get QR code for account
      description: Get QR code content in CSV format (European CSV/DSV). Fields separated by the semicolon character and row does not terminate with the newline character.
      operationId: getAccountQrCode
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: QR code content in CSV format (European CSV/DSV). Fields separated by the semicolon character and row does not terminate with the newline character.
          schema:
            $ref: '#/definitions/QrCodeAccount'
          examples:
            text/csv: '2;RJ_ACCOUNT;123456789;Name;Surname;REGULAR;CZK'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
  /tickets/account/qrcode/png:
    get:
      tags:
        - Tickets
      summary: GR code for account
      description: Get QR code as a PNG image
      operationId: getAccountQrCodePng
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      produces:
        - image/png
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: QR code png image
          schema:
            $ref: '#/definitions/QrCodeAccount'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'

  /tickets/{ticketId}/print:
    get:
      tags:
        - Tickets
      summary: Print ticket
      description: Note the unusual HTML output, not JSON like most other methods!
      operationId: printTicket
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      produces:
        - text/html
      parameters:
        - $ref: '#/parameters/ticketId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: Ticket HTML
          schema:
            type: string
            example: <html></html>
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /tickets/{ticketId}/sendByEmail:
    post:
      tags:
        - Tickets
      summary: Send ticket to email
      operationId: sendTicketByEmail
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/ticketId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: body
          name: email
          required: true
          schema:
            $ref: '#/definitions/TicketEmailRequest'
      responses:
        200:
          $ref: '#/responses/200'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /tickets/{ticketId}/passengers/{passengerId}:
    put:
      tags:
        - Tickets
      summary: Update passenger on the ticket
      operationId: updatePassenger
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/ticketId'
        - in: path
          name: passengerId
          description: ID of the passenger
          required: true
          type: integer
          format: int64
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: body
          name: passenger
          description: Updated Passenger object
          required: true
          schema:
            $ref: '#/definitions/PassengerRequest'
      responses:
        200:
          description: Get change charge for this action
          schema:
            $ref: '#/definitions/PassengerChangeResponse'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'
    delete:
      tags:
        - Tickets
      summary: Delete passenger from the ticket
      operationId: deletePassenger
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/ticketId'
        - in: path
          name: passengerId
          description: ID of the passenger
          required: true
          type: integer
          format: int64
        - in: body
          name: request
          required: true
          schema:
            $ref: '#/definitions/DeletePassengerRequest'
      responses:
        200:
          $ref: '#/responses/200'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /tickets/{ticketId}/rating:
    get:
      tags:
        - Tickets
      summary: Get ticket rating questions
      operationId: getTicketDetailRating
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/ticketId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: Get forms to fill (per section)
          schema:
            type: array
            items:
              $ref: '#/definitions/RatingFormData'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'
    put:
      tags:
        - Tickets
      summary: Update ticket rating
      operationId: putTicketDetailRating
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/ticketId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: body
          name: rating
          required: true
          schema:
            $ref: '#/definitions/PutRatingRequest'
      responses:
        200:
          $ref: '#/responses/200'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /tickets/{ticketId}/sections/{sectionId}/rating:
    get:
      tags:
        - Tickets
      summary: Get rating form for a specific section
      description: Returns a rating form for the given section of a ticket.
      operationId: getSectionDetailRating
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      produces:
        - application/json
      parameters:
        - $ref: '#/parameters/ticketId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - name: sectionId
          in: path
          required: true
          type: integer
          format: int64
          description: Section identifier
      responses:
        200:
          description: Successfully returned rating form for the section
          schema:
            $ref: "#/definitions/RatingFormData"
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'
        404:
          $ref: '#/responses/404'

  /tickets/{ticketId}/submitWheelChairPlatformOrder:
    put:
      tags:
        - Tickets
      summary: Submit wheelchairplatform order.
      operationId: submitWheelChairPlatformOrder
      security:
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/ticketId'
        - $ref: '#/parameters/xApplicationOrigin'
        - in: body
          name: wheelChairPlatformOrder
          required: true
          schema:
            $ref: '#/definitions/WheelChairPlatformOrder'
      responses:
        202:
          $ref: '#/responses/202'
        204:
          $ref: '#/responses/204'
        400:
          $ref: '#/responses/400'

  /tickets/{ticketId}/seats:
    put:
      tags:
        - Tickets
      summary: Change selected seats
      operationId: changeSelectedSeats
      security:
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/ticketId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/txToken'
        - in: body
          name: ticketSections
          required: true
          schema:
            type: array
            items:
              $ref: '#/definitions/CreateTicketSectionRequest'
      responses:
        200:
          $ref: '#/responses/200'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /tickets/timeticket/{timeTicketId}/print:
    get:
      tags:
        - TimeTickets
      summary: Print time ticket
      description: Time ticket in pdf format
      operationId: printTimeTicket
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      produces:
        - text/html
      parameters:
        - $ref: '#/parameters/timeTicketId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: Time ticket HTML
          schema:
            type: string
            example: <html></html>
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /tickets/timeticket/{timeTicketId}/pdf:
    get:
      tags:
        - TimeTickets
      summary: Print time ticket in pdf
      description: Note the unusual HTML output, not JSON like most other methods!
      operationId: printTimeTicketPdf
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      produces:
        - application/pdf
      parameters:
        - $ref: '#/parameters/timeTicketId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: Time ticket PDF
          schema:
            type: file
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /tickets/timeticket/{timeTicketId}/sendByEmail:
    post:
      tags:
        - TimeTickets
      summary: Send time ticket to email
      operationId: sendTimeTicketByEmail
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/timeTicketId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: body
          name: email
          required: true
          schema:
            $ref: '#/definitions/TicketEmailRequest'
      responses:
        202:
          $ref: '#/responses/202'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /tickets/timeticket:
    post:
      tags:
        - "TimeTickets"
      operationId: "createTimeTicket"
      summary: "Creates time ticket."
      description: "Creates time ticket flexi or line"
      consumes:
        - "application/1.2.0+json"
      produces:
        - "application/1.2.0+json"
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xCurrency'
        - $ref: '#/parameters/txToken'
        - name: "body"
          in: "body"
          required: true
          schema:
            $ref: "#/definitions/CreateRegisteredTimeTicketsRequest"
      responses:
        201:
          description: "Identifier of the ticket."
          schema:
            type: "integer"
            format: "int64"
        204:
          $ref: '#/responses/204'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /tickets/timeticket/{ticketId}/qrcode:
    get:
      tags:
        - TimeTickets
      produces:
        - text/csv
      summary: Get QR code for time ticket
      description: Get QR code content in CSV format (European CSV/DSV). Fields separated by the semicolon character and row does not terminate with the newline character.
      operationId: getTimeTicketQrCode
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/ticketId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: QR code content in CSV format (European CSV/DSV). Fields separated by the semicolon character and row does not terminate with the newline character.
          schema:
            $ref: '#/definitions/QrCodeTimeTicket'
          examples:
            text/csv: '2;RJ_TIME;123456789;985666;658874;2019-11-05T14:53:19;2019-11-13T14:53:19'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /tickets/timetickets:
    get:
      tags:
        - "TimeTickets"
      operationId: "getAllValidTimeTickets"
      summary: "Get IDs of time tickets and time tickets of a user."
      description: "Returns the IDs of all time tickets and full info of all time tickets of a logged in user account."
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: query
          name: limit
          description: "Page size limit (states how many records should return)."
          type: integer
          default: 10
        - in: query
          name: offset
          description: "Page number (value must be dividable by limit)."
          type: integer
          default: 0
        - in: query
          name: validFrom
          description: "Filtres time tickets with validFrom higher than"
          type: string
          format: date-time
          default: "now"
        - in: query
          name: validTo
          description: "Filtres time tickets with validTo less than"
          type: string
          format: date-time
          default: "9999-01-01T00:00:00.000+01:00"
        - in: query
          name: ticketStates
          description: "Filtres tickets by state (UNPAID, VALID, CANCELED, DELETED, EXPIRED, TO_BE_EXPIRED)"
          type: array
          uniqueItems: true
          default: [UNPAID, VALID, CANCELED, DELETED]
          items:
            type: string
            enum: [UNPAID, VALID, CANCELED, DELETED, EXPIRED, TO_BE_EXPIRED]
        - in: query
          name: sortDirection
          description: "Sort direction (ASC, DESC)"
          type: string
          default: "ASC"
      responses:
        200:
          description: "IDs of TimeTickets and TimeTickets of a logged in user."
          schema:
            $ref: '#/definitions/AccountTimeTickets'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /tickets/RJ_TIME:
    get:
      tags:
        - "TimeTickets"
      operationId: "getAllTimeTickets"
      summary: "Get IDs of time tickets and time tickets of a user."
      description: "Returns the IDs of all time tickets and full info of all time tickets of a logged in user account."
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: query
          name: limit
          description: "Page size limit (states how many records should return)."
          type: integer
          default: 10
        - in: query
          name: offset
          description: "Page number (value must be dividable by limit)."
          type: integer
          default: 0
        - in: query
          name: departureFrom
          description: "Filtres time tickets with validFrom date higher than"
          type: string
          format: date-time
        - in: query
          name: departureTo
          description: "Filtres time tickets with validFrom date lower than"
          type: string
          format: date-time
        - in: query
          name: arrivalFrom
          description: "Filtres time tickets with validTo date higher than"
          type: string
          format: date-time
        - in: query
          name: arrivalTo
          description: "Filtres time tickets with validTo date lower than"
          type: string
          format: date-time
        - in: query
          name: ticketStates
          description: "Filtres time tickets by state (UNPAID, VALID, USED)"
          type: array
          uniqueItems: true
          items:
            type: string
            enum: [UNPAID, VALID, USED]
        - in: query
          name: sortDirection
          description: "Sort direction (ASC, DESC)"
          type: string
          default: "ASC"
      responses:
        200:
          description: "IDs of TimeTickets and TimeTickets of a logged in user."
          headers:
            X-Pagination-Total:
              type: integer
              description: "Number of elements honouring filter criteria"
          schema:
            $ref: '#/definitions/AccountTimeTickets'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /tickets/timetickets/unregistered:
    post:
      tags:
        - TimeTickets
      operationId: "createUnregisteredTimeTicket"
      summary: "Create unregistered time ticket."
      description: "Create unregistered time ticket. Only FLEX time ticket type is allowed"
      consumes:
        - "application/1.2.0+json"
      produces:
        - "application/1.2.0+json"
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xReCaptchaToken'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xCurrency'
        - $ref: '#/parameters/txToken'
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/CreateUnregisteredTimeTicketRequest'
      responses:
        201:
          description: "Ticket Created"
          schema:
            $ref: '#/definitions/UnregisteredTimeTicketCreateInfo'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'
        204:
          $ref: '#/responses/204'

  /tickets/timeticket/{timeTicketId}:
    delete:
      tags:
        - TimeTickets
      summary: Storno time ticket by id
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      operationId: cancelTimeTicket
      parameters:
        - $ref: '#/parameters/timeTicketId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          $ref: '#/responses/200'
        204:
          $ref: '#/responses/204'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /tickets/timeticket/{ticketId}/qrcode/png:
    get:
      tags:
        - TimeTickets
      summary: GR code for time ticket
      description: Get QR code as a PNG image
      operationId: getTimeTicketQrCodePng
      produces:
        - image/png
      parameters:
        - $ref: '#/parameters/ticketId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: QR code png image
          schema:
            $ref: '#/definitions/QrCodeTimeTicket'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /tickets/authenticate/{hash}:
    post:
      tags:
        - Tickets
      description: "User's authentication based on hash for limited use."
      operationId: authenticateLimitedUse
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: path
          name: hash
          type: string
          required: true
          description: "Hash for limited use of a ticket."
      responses:
        200:
          description: Successfully authenticated.
          schema:
            $ref: '#/definitions/Token'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'

  /users/login/registeredAccount:
    post:
      tags:
        - Users
      operationId: loginRegisteredAccount
      description: Login for "Registered Account"
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xBodyHash'
        - in: body
          name: login
          required: true
          schema:
            $ref: '#/definitions/RegisteredLogin'
      responses:
        200:
          description: Successful login
          schema:
            $ref: '#/definitions/Token'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'

  /users/login/unregisteredAccount:
    post:
      tags:
        - Users
      operationId: loginUnregisteredAccount
      description: Login for "Unregistered Account"
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xBodyHash'
        - $ref: '#/parameters/xReCaptchaToken'
        - in: body
          name: login
          required: true
          schema:
            $ref: '#/definitions/UnregisteredLogin'
      responses:
        200:
          description: Successful login
          schema:
            $ref: '#/definitions/Token'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'

  /users/login/email:
    post:
      tags:
        - Users
      operationId: loginByEmail
      description: "Login for (un)registered Account by e-mail"
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xBodyHash'
        - in: body
          name: login
          required: true
          schema:
            $ref: '#/definitions/EmailLogin'
      responses:
        200:
          description: Successful login
          schema:
            $ref: '#/definitions/Token'
        400:
          $ref: '#/responses/400'
        403:
          $ref: '#/responses/403'

  /users/authenticate:
    get:
      tags:
        - Users
      description: Validation of Auth token
      operationId: authenticate
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: Successful login
          schema:
            $ref: '#/definitions/User'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'

  /users/signup/registeredAccount:
    post:
      tags:
        - Users
      operationId: signupRegisteredAccount
      description: Register new account
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xBodyHash'
        - $ref: '#/parameters/xReCaptchaToken'
        - in: body
          name: registeredAccount
          schema:
            $ref: '#/definitions/SignupRegisteredAccountRequest'
      responses:
        201:
          description: Success
          schema:
            $ref: '#/definitions/Token'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'

  /users/signup/registeredAccount/simple:
    post:
      tags:
        - Users
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      operationId: signupSimpleRegisteredAccount
      description: Register new credit account from open account
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: body
          name: request
          required: true
          schema:
            $ref: '#/definitions/SimpleRegisteredAccountRequest'
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/Token'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'

  /users/forgottenPassword:
    post:
      tags:
        - Users
      operationId: forgottenPassword
      description: Request password reset
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: body
          name: request
          required: true
          schema:
            $ref: '#/definitions/ForgottenPasswordRequest'
      responses:
        200:
          $ref: '#/responses/200'
        403:
          $ref: '#/responses/403'
        404:
          description: Not found
          schema:
            $ref: '#/definitions/ErrorResponse'

  /users/forgottenPassword/email:
    post:
      tags:
        - Users
      operationId: forgottenPasswordByEmail
      description: Request password reset
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xBodyHash'
        - $ref: '#/parameters/xReCaptchaToken'
        - in: body
          name: request
          required: true
          schema:
            $ref: '#/definitions/ForgottenPasswordByMailRequest'
      responses:
        200:
          $ref: '#/responses/200'
        400:
          $ref: '#/responses/400'
        403:
          $ref: '#/responses/403'

  /users/resetPassword:
    post:
      tags:
        - Users
      operationId: resetPassword
      description: Setup of new password
      security:
        - Bearer: []
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: body
          name: request
          required: true
          description: Reset password request
          schema:
            $ref: '#/definitions/ResetPasswordRequest'
      responses:
        200:
          description: Successful login
          schema:
            $ref: '#/definitions/Token'
        401:
          $ref: '#/responses/401'
        404:
          description: Not found
          schema:
            $ref: '#/definitions/ErrorResponse'

  /users/resetPassword/verify:
    get:
      tags:
        - Users
      description: Validate password reset token
      operationId: verifyResetPasswordToken
      security:
        - Bearer: []
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          $ref: '#/responses/200'
        401:
          $ref: '#/responses/401'

  /users/settings/changePassword:
    put:
      tags:
        - Users
      operationId: changeUserPassword
      description: Change Password
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: body
          name: request
          description: "Change password request"
          required: true
          schema:
            $ref: '#/definitions/ChangePasswordRequest'
            #TODO: validace sly hesla
      responses:
        200:
          $ref: '#/responses/200'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'

  /users/settings/changeUserInformation:
    put:
      tags:
        - Users
      operationId: changeUserInformation
      description: Change User Information
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: body
          name: changeUserRequest
          required: true
          schema:
            $ref: '#/definitions/ChangeUserRequest'
      responses:
        200:
          $ref: '#/responses/200'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'

  /users/logout:
    post:
      tags:
        - Users
      operationId: userLogout
      description: Logout
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          $ref: '#/responses/200'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'

  /users/actionToken:
    get:
      tags:
        - Users
      operationId: "getActionToken"
      security:
        - Bearer: [ ]
      summary: "Generate action token (used as X-TxToken in others wrtitable endpoints) as identifier of user action."
      produces:
        - "application/json"
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
      responses:
        200:
          description: "Successfully generated user action token."
          schema:
            $ref: '#/definitions/ActionToken'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'

  /users/{accountCode}/devices:
    get:
      tags:
        - Devices
      operationId: getRegisteredDevices
      description: Return all registered devices. This method is available only from mobile devices.
      security:
        - BearerHash: [ ]
      parameters:
        - $ref: '#/parameters/accountCode'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: Customer devices
          schema:
            type: array
            items:
              $ref: '#/definitions/CustomerDevice'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

    post:
      tags:
        - Devices
      operationId: registerDevice
      description: Registers a new device on customer account.
      security:
        - BearerHash: [ ]
      parameters:
        - $ref: '#/parameters/accountCode'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/txToken'
        - in: body
          name: device
          required: true
          schema:
            $ref: '#/definitions/CustomerDevice'
      responses:
        201:
          $ref: '#/responses/201'
        204:
          $ref: '#/responses/204'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /users/{accountCode}/devices/{uuid}:
    put:
      tags:
        - Devices
      operationId: editDevice
      description: Edit the device on customer account.
      security:
        - BearerHash: [ ]
      parameters:
        - $ref: '#/parameters/accountCode'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/txToken'
        - in: path
          name: uuid
          type: string
          format: uuid
          required: true
          x-example: "f81d4fae-7dec-11d0-a765-00a0c91e6bf6"
        - in: body
          name: device
          required: true
          schema:
            $ref: '#/definitions/CustomerDevice'
      responses:
        200:
          $ref: '#/responses/200'
        204:
          $ref: '#/responses/204'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

    delete:
      tags:
        - Devices
      operationId: removeDevice
      description: Removes a device registered on customer account.
      security:
        - BearerHash: [ ]
      parameters:
        - $ref: '#/parameters/accountCode'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/txToken'
        - in: path
          name: uuid
          type: string
          format: uuid
          required: true
          x-example: "f81d4fae-7dec-11d0-a765-00a0c91e6bf6"
      responses:
        200:
          $ref: '#/responses/200'
        204:
          $ref: '#/responses/204'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /payments:
    get:
      tags:
        - Payments
      operationId: getPayments
      description: Get history of transactions
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      consumes:
        - "application/1.2.0+json"
      produces:
        - "application/1.2.0+json"
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: query
          name: limit
          description: "Page size limit (states how many elements should return)."
          type: integer
          default: 10
        - in: query
          name: offset
          description: "Page number (value must be dividable by limit)"
          type: integer
          default: 0
        - in: query
          name: dateFrom
          description: "Filtres payments with realization date higher than"
          type: string
          format: date-time
        - in: query
          name: dateTo
          description: "Filtres payments with realization date lower than"
          type: string
          format: date-time
        - in: query
          name: type
          description: "Filtres payments type(s)"
          type: array
          uniqueItems: true
          items:
            default: ["DIRECT","CREDIT"]
            type: string
            enum: [DIRECT, CREDIT]
        - in: query
          description: "Sorting direction"
          name: sortDirection
          type: string
          enum: [ASC, DESC]
          default: DESC
      responses:
        200:
          description: Get list of payments
          headers:
            X-Pagination-Total:
              type: integer
              description: Total count of filtered items.
          schema:
            type: array
            items:
              $ref: '#/definitions/Payment'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'

  /payments/settings:
    get:
      operationId: getPaymentsSettings
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - type: string
          name: X-Lang
          in: header
          required: true
      responses:
        200:
          description: Payments setting
          schema:
            type: array
            items:
              $ref: '#/definitions/PaymentSettingsResponse'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
      summary: Get payment settings info
      description: Get payment settings info
      tags:
        - Payments

  /payments/print/invoice:
    post:
      tags:
        - Payments
      operationId: printBulkInvoice
      description: Print invoice for given payments (Daov doklad). Note the unusual HTML output, not JSON like most other methods!
      produces:
        - text/html
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: body
          name: payments
          required: true
          schema:
            $ref: '#/definitions/PrintInvoicesRequest'
      responses:
        200:
          description: Payment invoice HTML
          schema:
            type: string
            example: <html></html>
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /payments/{paymentId}/print/invoice:
    get:
      tags:
        - Payments
      operationId: printInvoice
      summary: Print payment invoice
      description: Note the unusual HTML output, not JSON like most other methods!
      produces:
        - text/html
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - in: path
          name: paymentId
          description: ID of the payment
          required: true
          type: integer
          format: int64
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: Payment invoice HTML
          schema:
            type: string
            example: <html></html>
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /payments/RJ_SRO/{paymentId}/print/invoice/:
    get:
      tags:
        - Payments
      operationId: printSroInvoice
      summary: Print payment invoice for Seat Reservation Onyl
      description: Note the unusual HTML output, not JSON like most other methods!
      produces:
        - text/html
      security:
        - Bearer: [ ]
        - Bearer: [ ]
          BearerHash: [ ]
      parameters:
        - in: path
          name: paymentId
          description: ID of the payment
          required: true
          type: integer
          format: int64
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: Payment invoice HTML
          schema:
            type: string
            example: <html></html>
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /payments/{paymentId}/print/receipt:
    get:
      tags:
        - Payments
      operationId: printReceipt
      summary: Print payment receipt

      description: Note the unusual HTML output, not JSON like most other methods!
      produces:
        - text/html
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - in: path
          name: paymentId
          description: ID of the payment
          required: true
          type: integer
          format: int64
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: Payment receipt HTML
          schema:
            type: string
            example: <html></html>
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /payments/methods:
    post:
      tags:
        - Payments
      operationId: getPaymentsMethods
      description: Get list of payment methods
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      consumes:
        - "application/1.1.0+json"
      produces:
        - "application/1.1.0+json"
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: body
          name: paymentsMethodsRequest
          description: Collection of ticket IDs (may be empty or missing)
          schema:
            $ref: '#/definitions/PaymentsMethodsRequest'
      responses:
        200:
          description: Get list of payment methods
          headers:
            X-Pagination-Total:
              type: integer
              description: Total count of filtered items.
          schema:
            type: array
            items:
              $ref: '#/definitions/PaymentMethod'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'

  /payments/form:
    post:
      tags:
        - Payments
      operationId: getPaymentForm
      description: Get the form desription for a payment
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      consumes:
        - "application/1.2.0+json"
      produces:
        - "application/1.2.0+json"
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: body
          name: paymentFormRequest
          description: Ticket IDs and selected payment method
          required: true
          schema:
            $ref: '#/definitions/PaymentFormFieldRequest'
      responses:
        200:
          description: List of payment form fields
          schema:
            type: array
            items:
              $ref: '#/definitions/PaymentFormField'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'

  /payments/pay:
    post:
      tags:
        - Payments
      operationId: paymentsPay
      description: Make a payment through a payment method
      consumes:
        - "application/1.2.0+json"
      produces:
        - "application/1.2.0+json"
      security:
        - Bearer: [ ]
        - Bearer: [ ]
          BearerHash: [ ]
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/txToken'
        - $ref: '#/parameters/referer'
        - in: body
          name: payRequest
          required: true
          description: "Ticket(s) payment request"
          schema:
            $ref: '#/definitions/PayRequest'
      responses:
        200:
          description: Get redirect URL
          schema:
            $ref: '#/definitions/CreditAddResponse'
        204:
          $ref: '#/responses/204'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'

  /payments/{ticketId}/pay:
    put:
      tags:
        - Payments
      operationId: payTicketByAffiliate
      description: Mark a ticket as paid directly
      security:
        - BasicAuth: []
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/ticketId'
      responses:
        200:
          $ref: '#/responses/200'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /payments/kiosks/tickets:
    post:
      tags:
        - Payments
      operationId: payByKiosk
      description: "Pay for a ticket from a kiosk."
      consumes:
        - "application/json"
      produces:
        - "application/json"
      security:
        - Bearer: [ ]
        - Bearer: [ ]
          BearerHash: [ ]
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: body
          name: ticketIds
          schema:
            type: array
            items:
              type: integer
              format: int64
      responses:
        201:
          description: Get payment request ID.
          schema:
            type: integer
            format: int64
            example: 986476465
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /payments/credit/charge:
    post:
      tags:
        - Payments
      operationId: paymentsCreditCharge
      description: Make a payment with charge credit
      consumes:
        - "application/1.2.0+json"
      produces:
        - "application/1.2.0+json"
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/txToken'
        - in: body
          required: true
          name: chargeRequest
          schema:
            $ref: '#/definitions/ChargeRequest'
      responses:
        200:
          description: Get remaining credit
          schema:
            $ref: '#/definitions/ChargeResponse'
        204:
          $ref: '#/responses/204'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'

  /payments/credit/add:
    post:
      tags:
        - Payments
      operationId: paymentsCreditAdd
      description: Add credit through a payment method
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/referer'
        - in: body
          name: creditAddRequest
          required: true
          schema:
            $ref: '#/definitions/CreditAddRequest'
      responses:
        200:
          description: Get redirect URLs
          schema:
            $ref: '#/definitions/CreditAddResponse'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'

  /payments/credit/top-up-and-charge:
    post:
      tags:
        - Payments
      operationId: topUpAndChargeCredit
      description: Tops up and then charges credit
      consumes:
        - "application/json"
      produces:
        - "application/json"
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/txToken'
        - in: body
          required: true
          name: topUpAndChargeCreditRequest
          schema:
            $ref: '#/definitions/TopUpAndChargeCreditRequest'
      responses:
        201:
          description: Get remaining credit
          schema:
            $ref: '#/definitions/CreditAddResponse'
        204:
          $ref: '#/responses/204'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'

  /payments/credit/giftCertificate/verify:
    post:
      tags:
        - Payments
      operationId: verifyGiftCertificate
      description: Verify validity of a gift certificate
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: body
          name: verifyGiftCertificateRequest
          required: true
          schema:
            $ref: '#/definitions/VerifyGiftCertificateRequest'
      responses:
        200:
          description: Information about gift certificate
          schema:
            $ref: '#/definitions/GiftCertificateInfo'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          description: "User account isnt registered as credit ticket (gift certificate can't be applied on unregistered open ticket)"
          schema:
            $ref: '#/definitions/ErrorResponse'

  /payments/credit/giftCertificate/add:
    post:
      tags:
        - Payments
      operationId: paymentsCreditGiftCertificateAdd
      description: Add credit through a gift certificate
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: body
          name: addGiftCertificateRequest
          required: true
          schema:
            $ref: '#/definitions/AddGiftCertificateRequest'
      responses:
        201:
          description: Credit was add through a gift certificate
          schema:
            $ref: '#/definitions/SuccessResponse'
        400:
          #TODO: v ppad, e uivatel nem konto ve stejn mn jako je drkov certifikt, vyhodme 400
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          description: "User account isnt registered as credit ticket (gift certificate can't be applied on unregistered open ticket)"
          schema:
            $ref: '#/definitions/ErrorResponse'

  /discounts/percentual:
    get:
      tags:
        - Discounts
      summary: Get possible discounts for given account.
      operationId: getPercentualByUser
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      produces:
        - "application/1.1.0+json"
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: Available discounts
          schema:
            type: array
            items:
              $ref: '#/definitions/Discount'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'

  /discounts/code/{code}/verify:
    post:
      tags:
        - Discounts
      summary: Verify code discount compatibility with a given route
      operationId: verifyCodeDiscount
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xCurrency'
        - in: path
          name: code
          type: string
          required: true
        - in: body
          required: true
          name: ticketRequest
          description: "Potential ticket information which needs to be checked by discount terms"
          schema:
            $ref: '#/definitions/VerifyDiscountRequest'
      responses:
        200:
          description: Applyable discount (with naive amount) verified for given route
          schema:
            $ref: '#/definitions/VerifiedDiscountResponse'

        400:
          $ref: '#/responses/400'

  /discounts/percentual/{discountId}/verify:
    post:
      tags:
        - Discounts
      summary: Verify percentual discount compatibility with a given route
      operationId: verifyPercentualDiscount
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - in: path
          name: discountId
          description: "Percentage discount ID which is supposed to be applied on route."
          required: true
          type: integer
          format: int64
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xCurrency'
        - in: body
          name: request
          required: true
          schema:
            $ref: '#/definitions/VerifyDiscountRequest'
      responses:
        200:
          description: Applyable discount (with naive amount) verified for given route
          schema:
            $ref: '#/definitions/VerifiedDiscountResponse'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /apple-wallet/{ticketCode}/{sectionId}:
    get:
      tags:
        - AppleWallet
      summary: Get apple wallet pass for given ticket code and section id.
      operationId: getAppleWalletPass
      security:
        - Bearer: [ ]
        - Bearer: [ ]
          BearerHash: [ ]
      produces:
        - application/json
        - application/vnd.apple.pkpass
      parameters:
        - $ref: '#/parameters/ticketCode'
        - $ref: '#/parameters/sectionId'
      responses:
        200:
          description: Apple wallet pass successfully loaded
          schema:
            type: file
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /addons:
    post:
      tags:
        - Addons
      summary: Get possible addons for given route.
      operationId: getAvailableAddons
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xCurrency'
        - in: body
          name: request
          required: true
          schema:
            $ref: '#/definitions/AvailableAddonsRequest'
      responses:
        200:
          description: Get list of possible addons.
          schema:
            type: array
            items:
              $ref: '#/definitions/AvailableAddon'
        400:
          $ref: '#/responses/400'

    put:
      tags:
        - Addons
      summary: Order tickets addons
      operationId: orderAddons
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - in: query
          name: ticketId
          description: ID of the ticket. Unlike other endpoints, it is taken from the query, not from the path.
          required: true
          type: integer
          format: int64
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: body
          name: orderAddonsRequest
          required: true
          schema:
            $ref: '#/definitions/OrderAddonsRequest'
      responses:
        201:
          $ref: '#/responses/201'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /addons/verify:
    post:
      tags:
        - Addons
      summary: Verify validity of addons selection
      operationId: verifyAddons
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xCurrency'
        - in: body
          name: addonsVerifyRequest
          required: true
          schema:
            $ref: '#/definitions/AddonsVerifyRequest'
      responses:
        200:
          $ref: '#/responses/200'
        400:
          $ref: '#/responses/400'

  /consts/locations:
    get:
      tags:
        - Consts
      summary: List all possible locations served by RegioJet transportation services
      operationId: getLocations
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: query
          name: stationType
          required: false
          type: string
          description: |
            * `BUS_STATION` - bus station
            * `TRAIN_STATION` - train station
        - in: query
          name: includeUnavailable
          required: false
          type: boolean
          default: false
          description: "If set to true the unavailable stations will be included in the response."
      responses:
        200:
          description: A list of served locations, grouped in a tree structure by countries and cities
          schema:
            type: array
            items:
              $ref: '#/definitions/Country'
        400:
          $ref: '#/responses/400'

  /consts/seatClasses:
    get:
      tags:
        - Consts
      summary: Get all possible seat classes
      description: Note the difference between tariffs, seat classes and vehicle standards
      operationId: getSeatClasses
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: A list of seat classes
          schema:
            type: array
            items:
              $ref: '#/definitions/SeatClass'
        400:
          description: Error
          schema:
            $ref: '#/definitions/ErrorResponse'

  /consts/tariffs:
    get:
      tags:
        - Consts
      summary: Get all possible tariffs
      description: Note the difference between tariffs, seat classes and vehicle standards
      operationId: getTariffs
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: A list of possible tariffs
          schema:
            type: array
            items:
              $ref: '#/definitions/Tariff'
        400:
          $ref: '#/responses/400'

  /consts/timetables:
    get:
      tags:
        - Consts
      summary: Get timetables of all connections or of a single one
      operationId: getTimetables
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: query
          name: connectionId
          description: "ID of the connection for which we want the timetables. Timetables of all connections will be returned if the parameter is omitted. You can get connection IDs in responses of **/routes/search**, in **Route.Section.Line.id** part of of the result."
          type: integer
          format: int64
          required: false
      responses:
        200:
          description: Timetables for one or for all connections
          schema:
            type: array
            items:
              $ref: '#/definitions/Timetable'
        400:
          $ref: '#/responses/400'

  /consts/timetables/{busConnectionId}:
    get:
      tags:
        - Consts
      summary: Get timetable for busConnection
      operationId: getTimetableByBusConnectionId
      parameters:
        - in: path
          name: busConnectionId
          description: ID of this particular connection
          required: true
          type: integer
          format: int64
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: Timetable for one connection
          schema:
            $ref: '#/definitions/Timetable'
        400:
          $ref: '#/responses/400'

  /consts/timetables/{code}/{number}:
    get:
      tags:
        - Consts
      summary: Get lines for departure and arrival station
      operationId: getLineTimetables
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: path
          name: code
          x-descrition: Uniq code of the line group (=> more that one line)
          required: true
          type: string
          x-example: "WEB"
        - in: path
          name: number
          x-description: Number of line for given line group (only one line can be valid at time)
          required: true
          type: integer
          x-example: 0
        - in: query
          name: direction
          x-descrition: Direction of lines.
          required: false
          type: string
          enum: ["there", "back"]
        - in: query
          name: timetable
          x-description: Id of requested timetable
          required: false
          type: integer
          format: int64
      responses:
        200:
          description: Lines for departure and arrival station
          schema:
            type: array
            items:
              $ref: '#/definitions/Timetable'
        400:
          $ref: '#/responses/400'

  /consts/timetables/{code}/{number}/symbols:
    get:
      tags:
        - Consts
      summary: Get symbols by given line
      operationId: getLineSymbolsByLineGroupCodeLineNumber
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: path
          name: code
          x-descrition: Uniq code of the line group (=> more that one line)
          required: true
          type: string
          x-example: "WEB"
        - in: path
          name: number
          x-description: Number of line for given line group (only one line can be valid at time)
          required: true
          type: integer
          x-example: 0
      responses:
        200:
          description: Symbols by given line
          schema:
            type: array
            items:
              $ref: '#/definitions/Symbol'
        400:
          $ref: '#/responses/400'

  /consts/timetables/{timetableId}/symbols:
    get:
      tags:
        - Consts
      summary: Get symbols by given timetable id
      operationId: getLineSymbols
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/timetableId'
      responses:
        200:
          description: Symbols by given timetable id
          schema:
            type: array
            items:
              $ref: '#/definitions/Symbol'
        400:
          $ref: '#/responses/400'

  /consts/symbols:
    get:
      tags:
        - Consts
      summary: Get all symbols
      operationId: getSymbols
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: Get all symbols
          schema:
            type: array
            items:
              $ref: '#/definitions/Symbol'
        400:
          $ref: '#/responses/400'

  /consts/timetables/{code}/{number}/time-codes:
    get:
      tags:
        - Consts
      summary: Get time code by given line
      operationId: getLineTimeCodesByLineGroupCodeLineNumber
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: path
          name: code
          x-descrition: Uniq code of the line group (=> more that one line)
          required: true
          type: string
          x-example: "WEB"
        - in: path
          name: number
          x-description: Number of line for given line group (only one line can be valid at time)
          required: true
          type: integer
          x-example: 0
      responses:
        200:
          description: Time codes by given line
          schema:
            type: array
            items:
              $ref: '#/definitions/TimeCode'
        400:
          $ref: '#/responses/400'

  /consts/timetables/{timetableId}/time-codes:
    get:
      tags:
        - Consts
      summary: Get time codes by given timetable id
      operationId: getLineTimeCodes
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/timetableId'
      responses:
        200:
          description: Time codes by given timetable id
          schema:
            type: array
            items:
              $ref: '#/definitions/TimeCode'
        400:
          $ref: '#/responses/400'

  /consts/lines/{stationId}:
    get:
      tags:
        - Consts
      summary: Get lines for departure station
      operationId: getLinesByDepartureStation
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/stationId'
        - in: query
          name: code
          x-descrition: Uniq code of the line group (=> more that one line)
          required: false
          type: array
          collectionFormat: multi
          items:
            type: string
          x-example: "WEB"
      responses:
        200:
          description: Lines for departure station
          schema:
            type: array
            items:
              $ref: '#/definitions/TimeTableLine'
        400:
          $ref: '#/responses/400'

  /consts/lines/{fromStationId}/{toStationId}:
    get:
      tags:
        - Consts
      summary: Get lines for departure and arrival station
      operationId: getLines
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: path
          name: fromStationId
          type: integer
          format: int64
          required: true
          description: "ID of the departure station"
        - in: path
          name: toStationId
          type: integer
          format: int64
          required: true
          description: "ID of the arrival station"
      responses:
        200:
          description: Lines for departure and arrival station
          schema:
            type: array
            items:
              $ref: '#/definitions/TimeTableLine'
        400:
          $ref: '#/responses/400'

  /consts/vehicleStandards:
    get:
      tags:
        - Consts
      summary: Get all possible vehicle standards
      description: Note the difference between tariffs, seat classes and vehicle standards
      operationId: getVehicleStandards
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: A list of vehicle standards
          schema:
            type: array
            items:
              $ref: '#/definitions/VehicleStandard'
        400:
          description: Error
          schema:
            $ref: '#/definitions/ErrorResponse'

  /consts/translations/{language}:
    get:
      tags:
        - Consts
      summary: Get the used dictionary of the selected language
      operationId: getTranslations
      parameters:
        - in: path
          name: language
          type: string
          enum: [en, cs, de, sk, hu, fr, es, ru, ua, zh]
          required: true
          description: Very similar to X-Lang parameter of other endpoints, but it is taken from the path instead of a header field.
        - $ref: '#/parameters/xApplicationOrigin'
      responses:
        200:
          description: A list of all used words, translated to the given language
          schema:
            $ref: '#/definitions/LanguageDictionary'

  /consts/paymentMethods:
    get:
      tags:
        - Consts
      summary: Get the list of all payment methods
      description: Methods are marked as active if they are available and accept payments in the currency passed in X-Currency parameter.
      operationId: getOnlinePaymenthMethods
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xCurrency'
      responses:
        200:
          description: A list of payment methods
          schema:
            type: array
            items:
              $ref: '#/definitions/PaymentMethod'
        400:
          $ref: '#/responses/400'

  /consts/cityPairs:
    get:
      tags:
        - Consts
      summary: Returns List of possible CityPairs
      operationId: getCityPairs
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xCurrency'
        - in: query
          name: fromCityId
          description: "from City Id"
          required: false
          type: integer
          format: int64
        - in: query
          name: toCityId
          description: "to City Id"
          required: false
          type: integer
          format: int64
        - in: query
          name: numberOfTransfers
          description: "number of Transfers"
          required: false
          type: integer
          default: 0
      responses:
        200:
          description: A list of possible City Pairs
          schema:
            type: array
            items:
              $ref: '#/definitions/CityPair'
        400:
          $ref: '#/responses/400'

  /consts/carriers:
    get:
      tags:
        - Consts
      summary: Returns List of Carriers
      operationId: getCarriers
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: A list of Carriers
          schema:
            type: array
            items:
              $ref: '#/definitions/Carrier'
        400:
          $ref: '#/responses/400'

  /consts/actionPrices:
    get:
      tags:
        - Consts
      summary: Returns list of Action Prices
      operationId: getActionPrices
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: query
          description: "Get only active of action prices"
          name: activeOnly
          type: boolean
          default: true
      responses:
        200:
          description: A list of Action Prices
          schema:
            type: array
            items:
              $ref: '#/definitions/ActionPrice'
        400:
          $ref: '#/responses/400'

  /consts/paymentDefinitions:
    get:
      tags:
        - Consts
      operationId: getPaymentDefinitions
      description: Gets list of available payment definitions with allowed currency for each channel.
      produces:
        - application/json
      parameters:
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: List of available payment definitions with allowed currency for each channel.
          schema:
            type: array
            items:
              $ref: '#/definitions/AllowedPaymentDefinition'
        400:
          $ref: '#/responses/400'

  /consts/points-of-sales:
    get:
      tags:
        - Consts
      operationId: getPointsOfSales
      description: Get a list of points of sales.
      produces:
        - application/json
      parameters:
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: A list of points of sales.
          schema:
            type: array
            items:
              $ref: '#/definitions/PointOfSale'
        400:
          $ref: '#/responses/400'

  /consts/integrated-transport-systems:
    get:
      tags:
        - Consts
      operationId: getIntegratedTransportSystems
      summary: Get description of integrated transport system with superzones and zones.
      description: Returns list as tree of ITS, superzones and zones.
      produces:
        - application/json
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
      responses:
        200:
          description: List of ITS zones
          schema:
            type: array
            items:
              $ref: "#/definitions/IntegratedTransportSystem"

  /support/sendContactForm:
    post:
      tags:
        - Others
      description: Sends support "Contact our director" form
      operationId: sendContaForm
      consumes:
        - "application/1.1.0+json"
      produces:
        - "application/1.1.0+json"
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xReCaptchaToken'
        - in: body
          name: request
          required: true
          schema:
            $ref: '#/definitions/ContactFormRequest'
      responses:
        200:
          $ref: '#/responses/200'
        204:
          $ref: '#/responses/204'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'

  /unsubscription/survey:
    patch:
      operationId: unsubscribeFromSurvey
      parameters:
        - in: query
          name: ticketId
          type: integer
          format: int64
          description: TicketID of ticket included in link to unsubscribe email for surveys.
        - in: query
          name: hash
          type: string
          minLength: 15
          maxLength: 15
          description: Unique hash of ticket included in link to unsubscribe email for surveys.
        - $ref: '#/parameters/xApplicationOrigin'
      tags:
        - Others
      description: Unsubscribes rating challenge emails.
      consumes:
        - "application/json"
      produces:
        - "application/json"
      responses:
        200:
          $ref: '#/responses/200'
        400:
          $ref: '#/responses/400'

  /pricelists/timeticket/{routeId}/{fromStationId}/{toStationId}/{timeTicketType}/{validFrom}/{tariff}:
    get:
      tags:
        - PriceLists
      summary: Get time ticket prices for connection, tariff, ticket type, stationFrom, stationTo, dateTime and currency.
      operationId: getTimeTicketPrices
      consumes:
        - "application/json"
      produces:
        - "application/json"
      parameters:
        - in: path
          name: routeId
          description: "Route ID (connection ID)."
          required: true
          type: integer
          format: int64
        - in: path
          name: fromStationId
          description: "Valid station ID (city ID unsupported at this level)"
          required: true
          type: integer
          format: int64
        - in: path
          name: toStationId
          description: "Valid station ID (city ID unsupported at this level)"
          required: true
          type: integer
          format: int64
        - in: path
          name: timeTicketType
          description: "TimeTicket type enum.name (FLEX, DAY, WEEK, MONTH)"
          required: true
          type: string
        - in: path
          name: validFrom
          description : "Date for validation date and time in TimeTicketPrices"
          required: true
          type: string
          format: date-time
        - in: path
          name: tariff
          description: "Tariff enum.name"
          required: true
          type: string
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xCurrency'
      responses:
        200:
          description: List of timeticket price
          schema:
            type: array
            items:
              $ref: '#/definitions/TimeTicketPrice'
        400:
          $ref: '#/responses/400'

  /routes/{routeId}/passengersData/{ticketType}:
    get:
      tags:
        - Routes
      summary: Get mandatory data for first passenger and other passengers for given route.
      operationId: getSroPassengersData
      consumes:
        - "application/json"
      produces:
        - "application/json"
      parameters:
        - $ref: '#/parameters/routeId'
        - $ref: '#/definitions/PaymentTicketType'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xCurrency'
        - $ref: '#/parameters/ticketType'
        - in: query
          name: fromStationId
          required: true
          type: integer
          format: int64
          x-example: 372825000
        - in: query
          name: toStationId
          required: true
          type: integer
          format: int64
          x-example: 3088864001
        - in: query
          name: departureDate
          description: Date and time of departure. Date is required. Time is optional.
          required: true
          default: now()
          type: string
          format: date-time
          x-example: "2020-12-06"
        - in: query
          name: seatClass
          description: Seat class.
          required: true
          type: integer
          enum: [ 1, 2 ]
          default: 2
          x-example: 2
        - in: query
          name: numberOfPassengers
          description: Number of passengers.
          required: true
          type: integer
          default: 1
          x-example: 1

      responses:
        200:
          description: Mandatory data for first passenger and other passengers data for seat reservation order for the whole trip.
          schema:
            $ref: '#/definitions/PassengersDataResponse'

  /tickets/RJ_SRO/unregistered:
    post:
      tags:
        - Tickets
      summary: "Create seat reservation."
      description: "Creates seat reservation as unregistered user."
      operationId: "createSroTicketsAsUnregisteredUser"
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xCurrency'
        - $ref: '#/parameters/xReCaptchaToken'
        - $ref: '#/parameters/xBodyHash'
        - $ref: '#/parameters/txToken'
        - in: "body"
          name: "body"
          description: "Object with seat reservations that need to be created."
          required: true
          schema:
            $ref: '#/definitions/CreateSroTicketsAsUnregisteredUserRequest'
      responses:
        201:
          description: "Successfully booked seat reservation."
          schema:
            $ref: '#/definitions/Token'
        204:
          $ref: '#/responses/204'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'

  /tickets/RJ_SRO/registered:
    post:
      tags:
        - Tickets
      summary: "Create seat reservation."
      description: "Creates seat reservation as registered user."
      operationId: "createSroTicketsAsRegisteredUser"
      security:
        - Bearer: [ ]
        - Bearer: [ ]
          BearerHash: [ ]
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xCurrency'
        - $ref: '#/parameters/txToken'
        - in: "body"
          name: "body"
          description: "Object with seat reservations that need to be created."
          required: true
          schema:
            $ref: '#/definitions/CreateSroTicketsAsRegisteredUserRequest'
      responses:
        201:
          description: "Successfully booked seat reservation."
          schema:
            $ref: '#/definitions/Token'
        204:
          $ref: '#/responses/204'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'

  /tickets/{ticketType}/{ticketId}/qrcode/png:
    get:
      tags:
        - Tickets
      summary: QR code for seat reservation
      description: Get QR code as a PNG image
      operationId: getTicketPngQrCode
      produces:
        - image/png
      parameters:
        - $ref: '#/parameters/ticketType'
        - $ref: '#/parameters/ticketId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: QR code png image
          schema:
            type: string
            format: byte
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /tickets/{ticketType}/{ticketId}/pdf:
    get:
      tags:
        - Tickets
      summary: Ticket / time ticket / seat reservation in PDF format
      description: Get ticket / time ticket / seat reservation in PDF format
      operationId: printTicketPdf
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      produces:
        - application/pdf
      parameters:
        - $ref: '#/parameters/ticketType'
        - $ref: '#/parameters/ticketId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: Ticket / time ticket / seat reservation PDF
          schema:
            type: file
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /tickets/{ticketType}/{ticketId}/sendByEmail:
    post:
      tags:
        - Tickets
      summary: Send ticket / time ticket / seat reservation to email
      operationId: sendByEmail
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/ticketType'
        - $ref: '#/parameters/ticketId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: body
          name: email
          required: true
          schema:
            $ref: '#/definitions/TicketEmailRequest'
      responses:
        202:
          $ref: '#/responses/202'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /tickets/RJ_SRO/{sroTicketId}:
    get:
      tags:
        - SeatReservationOnlyTickets
      summary: 'Get seat reservation only ticket by ID'
      operationId: getSroTicketById
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      parameters:
        - $ref: '#/parameters/sroTicketId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
      responses:
        200:
          description: Seat reservation only Ticket detail successfully retrieved
          schema:
            $ref: '#/definitions/SroTicket'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'
    delete:
      tags:
        - SeatReservationOnlyTickets
      summary: 'Cancel seat reservation ticket.'
      operationId: cancelSroTicket
      security:
        - Bearer: [ ]
        - Bearer: [ ]
          BearerHash: [ ]
      parameters:
        - $ref: '#/parameters/sroTicketId'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/txToken'
        - in: "body"
          name: "body"
          description: "Object with control hash and flag, which indicates whether money should be refunded to original payment channel."
          required: true
          schema:
            $ref: '#/definitions/CancelTicketRequest'
      responses:
        200:
          description: 'Seat reservation was successfully cancelled.'
          schema:
            $ref: '#/definitions/SuccessResponse'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /tickets/RJ_SRO:
    get:
      tags:
        - SeatReservationOnlyTickets
      summary: Get all seat reservation only tickets of the user
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      operationId: getAllSroTickets
      parameters:
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/xLang'
        - in: query
          name: limit
          description: "Page size limit (states how many records should return)."
          type: integer
          default: 10
        - in: query
          name: offset
          description: "Page number (value must be dividable by limit)."
          type: integer
          default: 0
        - in: query
          name: departureFrom
          description: "Filtres sro tickets with departure date higher than"
          type: string
          format: date-time
        - in: query
          name: departureTo
          description: "Filtres sro tickets with departure date lower than"
          type: string
          format: date-time
        - in: query
          name: arrivalFrom
          description: "Filtres sro tickets with arrival date higher than"
          type: string
          format: date-time
        - in: query
          name: arrivalTo
          description: "Filtres sro tickets with arrival date lower than"
          type: string
          format: date-time
        - in: query
          name: ticketStates
          description: "Filtres sro tickets by state (UNPAID, VALID, USED)"
          type: array
          uniqueItems: true
          items:
            type: string
            enum: [UNPAID, VALID, USED]
        - in: query
          name: sortProperty
          description: "Sort property name"
          type: string
          enum: [BOOKING_TIME, CODE, DEPARTURE, EXPIRATION, PAID_TIME]
          default: DEPARTURE
        - in: query
          description: "Sorting direction"
          name: sortDirection
          type: string
          enum: [ASC, DESC]
          default: DESC
      responses:
        200:
          description: All user's seat reservation only tickets successfully loaded
          headers:
            X-Pagination-Total:
              type: integer
              description: "Number of elements honouring filter criteria"
          schema:
            type: array
            items:
              $ref: '#/definitions/SroTicket'
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'

  /tickets/{ticketCode}/questionnaireUrls:
    get:
      tags:
        - Tickets
      summary: "Get a ticket's questionnaire URLs."
      operationId: getQuestionnaireUrls
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      produces:
        - "application/json"
      parameters:
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/ticketCode'
      responses:
        200:
          description: "A list of questionnaire URLs."
          schema:
            type: array
            items:
              type: string
              format: url
              example: "https://questionnaire.sa.cz/form/23eed147-6cc3-4081-8a96-97a09f6ac83e/5636909001"

        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'

  /tickets/{ticketId}/google-wallet:
    post:
      tags:
        - Tickets
      summary: "Create Google Wallet passes"
      operationId: addToGoogleWallet
      security:
        - Bearer: []
        - Bearer: []
          BearerHash: []
      produces:
        - "application/json"
      parameters:
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/xApplicationOrigin'
        - $ref: '#/parameters/ticketId'
      responses:
        201:
          description: "Successfully created Google Wallet passes"
          headers:
            Location:
              type: string
              description: URI of the 'Add to Google Wallet' link.

        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'
        502:
          $ref: '#/responses/502'

  /identities/{identity}/accounts:
    post:
      tags:
        - Identities
      operationId: linkAccount
      description: Link a customer account to an identity.
      security:
        - BearerHash: []
      produces:
        - "application/json"
      parameters:
        - $ref: '#/parameters/xLang'
        - $ref: '#/parameters/txToken'
        - in: path
          name: identity
          type: string
          required: true
          x-example: "any-identity-string"
      responses:
        200:
          $ref: '#/responses/200'
        204:
          $ref: '#/responses/204'
        401:
          $ref: '#/responses/401'
        403:
          $ref: '#/responses/403'
    get:
      tags:
        - Identities
      operationId: getAccounts
      description: Get accounts linked to an identity.
      security:
        - Bearer: []
      produces:
        - "application/json"
      parameters:
        - $ref: '#/parameters/xLang'
        - in: path
          name: identity
          type: string
          required: true
          x-example: "any-identity-string"
      responses:
        200:
          description: Accounts linked to the identity
          schema:
            type: array
            items:
              $ref: '#/definitions/IdentityAccount'
        401:
          $ref: '#/responses/401'

  /accounts/{accountCode}/login:
    post:
      tags:
        - Accounts
      operationId: login
      description: Login account with account code.
      security:
        - Bearer: []
      produces:
        - "application/json"
      parameters:
        - $ref: '#/parameters/xLang'
        - in: path
          name: accountCode
          type: string
          required: true
          x-example: "12334567890"
      responses:
        200:
          description: Successful login
          schema:
            $ref: '#/definitions/Token'
        401:
          $ref: '#/responses/401'

  /accounts/{accountCode}/type:
    get:
      tags:
        - Accounts
      summary: Get account type
      description: Get account type
      operationId: getAccountType
      consumes:
        - "application/json"
      produces:
        - "application/json"
      parameters:
        - $ref: '#/parameters/xBodyHash'
        - $ref: '#/parameters/xReCaptchaToken'
        - in: path
          name: accountCode
          description: Account code
          type: string
          required: true
          x-example: "12334567890"
      responses:
        200:
          description: Account type
          schema:
            $ref: '#/definitions/AccountTypeResponse'
        400:
          $ref: '#/responses/400'
        404:
          $ref: '#/responses/404'

responses:
  200:
    description: Success
    schema:
      $ref: '#/definitions/SuccessResponse'
  201:
    description: Successfully created
    schema:
      $ref: '#/definitions/SuccessResponse'
  202:
    description: Accepted
  204:
    description: No content
  400:
    description: Bad Request
    schema:
      $ref: "#/definitions/ErrorResponse"
  401:
    description: Unauthorized (invalid token or credentials)
    schema:
      $ref: "#/definitions/ErrorResponse"
  403:
    description: Permissions denied
    schema:
      $ref: "#/definitions/ErrorResponse"
  404:
    description: No routes found
    schema:
      $ref: "#/definitions/ErrorResponse"
  502:
    description: Bad Gateway
    schema:
      $ref: "#/definitions/ErrorResponse"

definitions:

  RouteSeatsRequest_1_0_0:
    type: object
    required:
      - sections
    properties:
      sections:
        type: array
        items:
          $ref: '#/definitions/SimpleSection'
      tariffs:
        type: array
        items:
          type: string
          example: "REGULAR"
      seatClass:
        type: string
        example: "C1"

  RouteSeatsRequest:
    type: object
    required:
      - sections
    properties:
      sections:
        type: array
        items:
          $ref: '#/definitions/SimpleSection'
      seatsSpecification:
        $ref: '#/definitions/SeatPreference'
      priceSourceId:
        type: string
        example: "3870611089<3088864001-3741302011-3863407000>"

  SearchResult:
    type: object
    properties:
      routes:
        type: array
        items:
          $ref: '#/definitions/Route'
      routesMessage:
        type: string
        description: "Message describing exceptionally behavior or route search states"
        example: "Connection between these destinations dont exist. Edit your search parameters and try again"

      bannerBubbles:
        type: array
        items:
          $ref: '#/definitions/BannerBubble'
      textBubbles:
        type: array
        items:
          $ref: '#/definitions/TextBubble'

  SimpleSearchResult:
    type: object
    properties:
      routes:
        type: array
        items:
          $ref: '#/definitions/SimpleRoute'
      routesMessage:
        type: string
        description: "Message describing exceptionally behavior or route search states"
        example: "Connection between these destinations dont exist. Edit your search parameters and try again"

      bannerBubbles:
        type: array
        items:
          $ref: '#/definitions/BannerBubble'
      textBubbles:
        type: array
        items:
          $ref: '#/definitions/TextBubble'

  BannerBubble:
    type: object
    description: "Bubble picture with possibility of redirection to more informations"
    required:
      - id
      - text
      - imageUrl
    properties:
      id:
        type: integer
        format: int64
        example: 20394859403
      text:
        type: string
        description: "Extra information for bubble"
        example: "There's security members walking through train during travel"
      url:
        type: string
        description: "Redirection to more information"
        example: "https://www.regiojet.com/services/services-on-board-of-trains/"
      imageUrl:
        type: string
        description: "Bubble picture URL address"

  TextBubble:
    type: object
    properties:
      id:
        type: integer
        format: int64
        example: 40005893098
      text:
        type: string
        example: "There's security members walking through train during travel"

  Payment:
    type: object
    required:
      - paymentId
      - amount
      - currency
      - method
      - dateTransaction
      - isReceiptAvailable
      - isInvoiceAvailable
    properties:
      paymentId:
        type: integer
        format: int64
        example: 19384904403
      ticketId:
        type: integer
        format: int64
        example: 3895569002
      ticketType:
        $ref: '#/definitions/PaymentTicketType'
      description:
        type: string
        example: "Deposited 100 CZK"
      amount:
        type: number
        example: 100
      currency:
        $ref: '#/definitions/Currency'
      method:
        $ref: '#/definitions/TransactionMethod'
      dateTransaction:
        type: string
        format: date-time
      isReceiptAvailable:
        type: boolean
        example: true
      isInvoiceAvailable:
        type: boolean
        example: true

  TransactionMethod:
    type: string
    enum: [ACCOUNT, CASH, BANK_TRANSFER, GIFT_CERTIFICATE, CREDIT_CARD, ONLINE_PAYMENT]
    example: CREDIT_CARD

  PaymentMethod:
    type: object
    required:
      - paymentMethodCode
      - paymentType
      - active
    properties:
      paymentMethodCode:
        type: string
        example: GPE_ONLINE_CARD
        description: "Payment method code identifier"
      paymentType:
        $ref: '#/definitions/PaymentType'
      active:
        type: boolean
        description: "Checks if payment method is active"
      description:
        type: string
        example: "Payment method is available"
        description: "Payment method status (for example: why its not available)"
      deadline:
        type: string
        format: date-time
        description: "Payment method availability expiration date-time"
      deadlineAt:
        type: integer
        example: 60
        description: "Minutes left to end of payment method availability"

  PaymentType:
    type: string
    enum: [ONLINE, CASH, TRANSFER, GIFT]
    example: ONLINE
    description: "Payment method category"

  PaymentFormFieldValue:
    type: object
    required:
      - fieldType
      - fieldValue
    properties:
      fieldType:
        $ref: '#/definitions/PaymentFormFieldType'
      fieldValue:
        type: string
        example: "dobroslav.pelc@studentagency.cz"

  PaymentFormFieldRequest:
    type: object
    required:
      - paymentMethodCode
      - ticketIds
    properties:
      paymentMethodCode:
        type: string
        example: "VISA"
      ticketIds:
        type: array
        items:
          $ref: '#/definitions/PaymentTicketRequest'

  PaymentFormField:
    type: object
    required:
      - fieldName
      - fieldType
    properties:
      fieldName:
        type: string
        description: "Label name"
        #TODO: provit na stran Actumu, zda bude poslat, nebo si pelo klient. app
      fieldType:
        $ref: '#/definitions/PaymentFormFieldType'

  PaymentFormFieldType:
    type: string
    enum: [EMAIL, FIRST_NAME, SURNAME, PASSWORD, PASSWORD_CONFIRMATION, CUSTOMER_NAME, CUSTOMER_ADDRESS]
    description: "Valid field types required for payment form."
    example: EMAIL

  PayRequest:
    type: object
    required:
      - paymentMethodCode
      - correlationId
      - formFields
      - tickets
    properties:
      paymentMethodCode:
        type: string
        example: "VISA"
      correlationId:
        type: string
        example: ABCD1234
      formFields:
        type: array
        items:
          $ref: '#/definitions/PaymentFormFieldValue'
      rememberCard:
        type: boolean
      tickets:
        description: "Ticket collection requested to be paid from credit"
        type: array
        items:
          $ref: '#/definitions/PaymentTicketRequest'

  PaymentTicketRequest:
    type: object
    required:
      - id
      - type
    properties:
      id:
        type: integer
        format: int64
        example: 20394859403
      type:
        $ref: '#/definitions/PaymentTicketType'

  PaymentTicketType:
    type: string
    enum: [RJ_SEAT, RJ_TIME, RJ_SRO]

  CreditAddRequest:
    description: "User registered account credit charge request"
    type: object
    required:
      - amount
      - currency
      - paymentMethodCode
      - correlationId
      - formFields
    properties:
      amount:
        type: number
        example: 300
      currency:
        $ref: '#/definitions/Currency'
      paymentMethodCode:
        type: string
        example: "VISA"
      correlationId:
        type: string
        example: ABCD1234
      formFields:
        type: array
        items:
          $ref: '#/definitions/PaymentFormFieldValue'
      rememberCard:
        type: boolean
        default: false

  CreditAddResponse:
    type: object
    required:
      - payRedirectUrl
      - regiojetRedirectUrl
    properties:
      payRedirectUrl:
        type: string
        example: "https://secure.payu.com/paygw/UTF/NewPayment"
      regiojetRedirectUrl:
        type: string
        example: https://shop.regiojet.cz/payments

  TopUpAndChargeCreditRequest:
    description: 'Top up and charge account credit request'
    type: object
    required:
      - amount
      - currency
      - paymentMethodCode
      - correlationId
      - formFields
    properties:
      amount:
        type: number
        example: 300
      currency:
        $ref: '#/definitions/Currency'
      paymentMethodCode:
        type: string
        example: "VISA"
      correlationId:
        type: string
        example: ABCD1234
      rememberCard:
        type: boolean
        default: false
      formFields:
        type: array
        items:
          $ref: '#/definitions/PaymentFormFieldValue'
      tickets:
        type: array
        items:
          $ref: '#/definitions/PaymentTicketRequest'

  PaymentSettingsResponse:
    type: object
    required:
      - rememberCard
      - lastPaymentType
    properties:
      rememberCard:
        type: boolean
        description: "Nastaveni zapamatovane karty"
      lastPaymentType:
        type: string
        example: "GPE_ONLINE_CARD"
        description: "Posledni provedena platebni metoda"

  AllowedPaymentDefinition:
    type: object
    required:
      - paymentType
      - currencyDefinitions
    properties:
      paymentType:
        type: string
        example: "GPE_GOOGLE_PAY"
        description: "Payment method identifier"
      currencyDefinitions:
        type: array
        items:
          $ref: '#/definitions/CurrencyDefinition'

  CurrencyDefinition:
    type: object
    required:
      - name
      - numericCode
    properties:
      name:
        type: string
        example: "CZK"
        description: "ISO 4217 currency name"
        minLength: 3
        maxLength: 3
      numericCode:
        type: integer
        example: "203"
        description: "ISO 4217 currency numeric code"

  Country:
    type: object
    required:
      - country
      - code
      - cities
    properties:
      country:
        type: string
        example: "Czech republic"
      code:
        type: string
        example: "CZ"
      cities:
        type: array
        items:
          $ref: '#/definitions/City'

  City:
    type: object
    required:
      - id
      - name
      - stations
    properties:
      id:
        type: integer
        format: int64
        example: 10202002
        description: "City identifier"
      name:
        type: string
        example: "Brno"
      aliases:
        type: array
        description: "City nickname or aliases (Bratislava --> Blava)"
        items:
          type: string
      stationsTypes:
        type: array
        items:
          type: string
          example:  |
            * `BUS_STATION` - bus station
            * `TRAIN_STATION` - train station
      stations:
        type: array
        items:
          $ref: '#/definitions/Station'

  Station:
    type: object
    required:
      - id
      - name
      - fullname
      - significance
      - available
    properties:
      id:
        type: integer
        format: int64
        example: 10204002
        description: "Station identifier"
      name:
        type: string
        example: "AN u hotelu Grand"
      fullname:
        type: string
        example: "Prague, AN Florenc"
      aliases:
        type: array
        description: "City nickname or aliases (Bratislava --> Blava)"
        items:
          type: string
          example: "Grand"
      address:
        type: string
        example: "Kikova 552/2, 186 00 Karln"
      stationsTypes:
        type: array
        items:
          type: string
          example:  |
            * `BUS_STATION` - bus station
            * `TRAIN_STATION` - train station
      iataCode:
        type: string
        example: "PRG"
      stationUrl:
        type: string
        example: "https://www.regiojet.cz/jizdni-rady-a-zastavky/zastavky/10204003.html"
      stationTimeZoneCode:
        type: string
        example: "Europe/Prague"
      wheelChairPlatform:
        type: string
        example:  |
          * `CD` - esk drhy
          * `RJ` - regiojet
      significance:
        type: integer
        example: 2
        description: "Station significancion (for example: for city Brno, there is Grand station more significant than Bohunice station)"

      longitude:
        type: number
        example: 16.6142520904541015625
        description: "GPS - longitude"
      latitude:
        type: number
        example: 49.19335556030269884786321199499070644378662109375
        description: "GPS - latitude"

      imageUrl:
        type: string
        description: "Station picture URL (for example: may contain detail information about transfer)"
        example: "https://any.domain.org/image.png"

      cisNumber:
        type: integer
        format: int64
        description: "International ID of BusStation"
      sr70Number:
        type: integer
        format: int64
        description: "International ID of RailwayStation"

      available:
        type: boolean
        description: "Defines if the station is currently available."
        example: true

  CityPair:
    type: object
    description: "Mozna kombinace spojeni mezi dvema mesty"
    required:
      - departureCityId
      - arrivalCityId
      - numberOfTransfers
      - transportTypes
    properties:
      departureCityId:
        type: integer
        format: int64
        description: "Id mesta odjezdu"
        example: "10202082"
      arrivalCityId:
        type: integer
        format: int64
        description: "Id mesta prijezdu"
        example: "10202000"
      numberOfTransfers:
        type: integer
        description: "Pocet prestupu"
        example: "1"
      transportTypes:
        type: array
        description: "Typ spojeni mezi mesty"
        example: "TRAIN, BUS"
        items:
          type: string
      iataCodesForDepartureCity:
        type: array
        description: "IATA kody odjezdoveho mesta"
        example: "MIL"
        items:
          type: string
      iataCodesForArrivalCity:
        type: array
        description: "IATA kody prijezdoveho mesta"
        example: "PRG"
        items:
          type: string

  PriceClass:
    type: object
    required:
      - seatClassKey
      - conditions
      - services
      - freeSeatsCount
      - price
      - creditPrice
      - priceSource
      - customerNotifications
      - tariffs
      - bookable
    properties:
      seatClassKey:
        type: string
        example: "C1"
        description: "Enum.name"
      conditions:
        $ref: '#/definitions/PriceConditions'
      services:
        type: array
        description: "Services icons (wifi, etc.)"
        items:
          type: string
          example: "wifi"

      freeSeatsCount:
        type: integer
        example: 71
      price:
        type: number
        example: 299
      creditPrice:
        type: number
        example: 259
      priceSource:
        type: string
        example: "3870611089<3088864001-3741302011-3863407000>"
        description: "Pricing ID - used for price, services or terms confirmation after route search"

      customerNotifications:
        type: array
        description: "Customer notifications"
        example: "Connection is operated by partner carrier company MT-Lines"
        items:
          type: string
        #TODO: kolekce upozorneni (zmena tarifu, luzko zeny, ...) --> Je na stanm online, budeme muset penst

      actionPrice:
        $ref: '#/definitions/ActionPrice'

      tariffs:
        type: array
        items:
          type: string
          example: REGULAR
      tariffNotifications:
        $ref: '#/definitions/TariffNotifications'
      bookable:
        type: boolean
        description: "There are free seats in class for reservation if TRUE otherwise FALSE"
        example: true

  TariffNotifications:
    type: object
    required:
      - title
      - description
      - content
    properties:
      title:
        type: string
        description: "Notification header translation"
        example: "Following tariffs do not have discounts"
      description:
        type: string
        description: "Notification description translation"
        example: "These tariffs were changed to tariffs corresponding with reserved route. Price remained unchanged"
      content:
        type: array
        items:
          type: string
          description: "Detail of tariff change"
          example: "DISABLED --> REGULAR"

  ActionPrice:
    type: object
    required:
      - id
      - code
      - name
      - url
      - showIcon
    properties:
      id:
        type: integer
        format: int64
        description: "Event price ID (required to confirm applying more discounts)"
        example: 23004854593
      code:
        type: string
        description: "Event price code tag"
        example: "akcni_evropa"
      name:
        type: string
        description: "Event price name"
        example: "Action Europe"
      url:
        type: string
        description: "More event information redirect URL"
        example: "https://www.regiojet.com/promotional-offers/europe-special-deals.html"
      description:
        type: string
      showIcon:
        type: boolean
        description: "Should icon be shown at event name?"

  PriceConditions:
    type: object
    required:
      - code
      - descriptions
    properties:
      code:
        type: string
        description: "Control MD5 hash transformed from conditions content (used for current terms visibility check)"
        example: "AB42CAB42CAB42CAB42CAB42CAB42C5F"
      descriptions:
        $ref: '#/definitions/PriceConditionsDescriptions'
      refundToOriginalSourcePossible:
        type: boolean
        description: "States that if its possible to refund money to origin money source"
        example: false
      cancelCharge:
        type: number
        description: "Total count of all cancel charges in current currency"
        example: 399
      cancelCharges:
        type: array
        items:
          $ref: '#/definitions/CancelCharge'
        #      cancelDeadline:
        #        type: string
        #        format: date-time
        #        description: "Deadline pro storno vyplyvajici z techto PriceConditions"
        # TODO: toto je WIP, mozna nevystacime s jednim atributem, protoze do rozhodovani, zda lze v danem case stornovat, vstupuje vice faktoru.

  PriceConditionsDescriptions:
    type: object
    description: "Text description of conditions various types linked to price conditions"
    properties:
      cancel:
        type: string
        description: "Cancel charge"
        example: "More than 15 minutes till departure: 0 %, less than 15 minutes: cannot be canceled"
      cancelShort:
        type: string
        description: "Cancel charge in a short form"
        example: "> 15 minutes: 0 %, < 15 minutes: not possible"
      rebook:
        type: string
        description: "Rebook"
        example: "More than 15 minutes till departure: cancel charge 0 %, less than 15 minutes: cannot be re-reservated"
      rebookShort:
        type: string
        description: "Rebook in a short form"
        example: "> 1 hour: by cancellation for 0 CZK, < 1 hour: not possible"
      expiration:
        type: string
        description: "Payment expiration"
        example: "3 minutes (18.12.17 11:32 SE)"

  CancelCharge:
    type: object
    description: "Cancel charge (fixed orientation amount which can be differ in rounding of amount stated on account with cancel)"
    required:
      - amount
    properties:
      message:
        type: string
        description: "Cancel charge description"
        example: "Ticket cancellation"
      amount:
        type: number
        description: "Amount in CZK/EUR currency from ticket/addon/... which wont be refunded."
        example: 110
      currency:
        $ref: '#/definitions/Currency'
      percent:
        type: integer
        description: "How many % from origin amount will be get rid of"
        example: 10

  Section:
    type: object
    required:
      - id
      - vehicleType
      - fixedSeatReservation
      - vehicleStandardKey
      - support
      - line
      - departureStationId
      - departureCityId
      - departureTime
      - arrivalStationId
      - arrivalCityId
      - arrivalTime
      - travelTime
    properties:
      id:
        type: integer
        format: int64
      vehicleStandardKey:
        type: string
        example: "FUN_RELAX"

      support:
        type: boolean
        description: "TRUE => support connnection; FALSE => RegioJet connection"
      supportCode:
        type: string
        description: "Codes of individuals support connection on a single route"
        example: "P1, P2, ..."

      vehicleType:
        $ref: '#/definitions/VehicleType'

      fixedSeatReservation:
        type: boolean
        description: "TRUE => seat reservation; FALSE => seat is chosen while boarding"

      line:
        $ref: '#/definitions/Line'

      departureStationId:
        type: integer
        format: int64
      departureStationName:
        type: string
      departureCityId:
        type: integer
        format: int64
      departureCityName:
        type: string

      departureTime:
        type: string
        format: date-time
      departurePlatform:
        type: string
        example:
          - "BUS: 3"
          - "BUS: S2"
          - "BUS: Streat title (used exceptionally, for example at lockout or detour)"
          - "VLAK: 2/1"
          - "VLAK: -/1"
          - "VLAK: 1/-"
          - "VLAK: -/-"

      arrivalStationId:
        type: integer
        format: int64
      arrivalStationName:
        type: string
      arrivalCityId:
        type: integer
        format: int64
      arrivalCityName:
        type: string

      arrivalTime:
        type: string
        format: date-time
      arrivalPlatform:
        type: string
        example: |
          * `BUS` - 3
          * `BUS` - S2
          * `BUS` - Streat title (used exceptionally, for example at lockout or detour)
          * `VLAK` - 2/1
          * `VLAK` - -/1
          * `VLAK` - 1/-
          * `VLAK` - -/-

      carrierId:
        description: "Company Id"
        type: integer
        format: int64

      freeSeatsCount:
        type: integer

      notices:
        description: "Extraordinary event on route / traffic limitation"
        type: array
        items:
          type: string
          example: "There are fatal accident on line, delay will be 120 minutes"

      services:
        description: "Available services on this connection"
        type: array
        items:
          type: string
          example: "wifi"
      delay:
        type: string
        description: "Textual information about the delay on a given section"
        example: "00:15 h"
      travelTime:
        type: string
        description: "Textual information about the travel time on a given section"
        example: "01:10 h"
      estimatedArrivalTime:
        type: string
        format: date-time
        example: "2018-02-17T00:50:00.000+02:00"
        description: "Estimated arrival date time (arrivalTime + delay)"

  Line:
    type: object
    description: "Line connection general informations"
    required:
      - connectionId
      - lineCode
      - lineNumber
      - from
      - to
    properties:
      connectionId:
        type: integer
        format: int64
        description: "section.id (necessarily to get informations about line detail)"
        example: 1504532244
      lineCode:
        type: string
        description: "Line group code."
        example: "VLAK"
      lineNumber:
        type: integer
        format: int32
        description: "Line number."
        example: 270
      code:
        type: string
        description: "Line connection code (as unique identifier as line connection departure date)"
        example: "RJ 1021"
      from:
        type: string
        description: "Departure city of line connection"
        example: "Prague"
      to:
        type: string
        description: "Arrival city of line connection"
        example: "Brno"

  VehicleStandard:
    type: object
    description: "Vehicle standards description and available services"
    required:
      - key
      - name
      - shortDescription
      - description
      - imageUrl
      - supportImageUrl
    properties:
      key:
        type: string
        example: FUN_RELAX
        description: "Enum.name"
      name:
        type: string
        example: "Fun & Relax"
      shortDescription:
        type: string
        example: "RegioJet second class fare in yellow quality."
      description:
        type: string
        example: "Individual touch screen, 230 V plug-ins, newspapers, magazines and hot beverage for free. Cold beverages and refreshments, WIFI in CZ or SK"
      imageUrl:
        type: string
        example: "$host/resources/standard/fun-relax.png"
      supportImageUrl:
        type: string
        description: "Picture of standards available in support vehicle URL"
        example: "$host/resources/standard/fun-relax_support.png"
      galleryUrl:
        type: string
        description: "Photogallery of standards URL"
        example: "https://www.regiojet.com/services/services-on-board-of-trains/"

  VehicleType:
    type: string
    enum:
      - BUS
      - TRAIN

  Route:
    type: object
    required:
      - id
      - mainSectionId
      - departureStationId
      - departureCityId
      - departureTime
      - arrivalStationId
      - arrivalCityId
      - arrivalTime
      - freeSeatsCount
      - sections
      - bookable
    properties:
      id:
        type: string
        description: "{section0.id},{section1.id}, ... "
      mainSectionId:
        type: integer
        format: int64
        description: "Major part of the route. Only for this section can customer select Class or Standard."

      departureStationId:
        type: integer
        format: int64
      departureStationName:
        type: string
        example: "AN Florenc"
      departureCityId:
        type: integer
        format: int64
      departureCityName:
        type: string
        example: "Prague"
      departureTime:
        type: string
        format: date-time
        example: "2017-12-19T19:00:00.000+02:00"

      arrivalStationId:
        type: integer
        format: int64
      arrivalStationName:
        type: string
        example: "AN u hotelu Grand"
      arrivalCityId:
        type: integer
        format: int64
      arrivalCityName:
        type: string
        example: "Brno"
      arrivalTime:
        type: string
        format: date-time
        example: "2017-12-19T21:35:00.000+02:00"

      freeSeatsCount:
        type: integer
        description: "Returns smallest number of available free seats through all sections"
        example: 44

      priceFrom:
        type: number
        example: 169
      priceTo:
        type: number
        example: 1209
      creditPriceFrom:
        type: number
        example: 159
      creditPriceTo:
        type: number
        example: 1109

      vehicleTypes:
        type: array
        items:
          $ref: '#/definitions/VehicleType'
      priceClasses:
        type: array
        items:
          $ref: '#/definitions/PriceClass'
      surcharge:
        $ref: '#/definitions/Surcharge'
      sections:
        type: array
        items:
          $ref: '#/definitions/Section'

      notices:
        type: boolean
        description: "Notice of any extraordinarily events on route / traffic limitation"
        example: true

      transfersInfo:
        $ref: '#/definitions/TransfersInfo'

      nationalTrip:
        type: boolean
        description: "TRUE => national, FALSE => international"
        example: true
      bookable:
        type: boolean
        description: "TRUE if at least one class have enough free seats for reservation, otherwise FALSE"
        example: true
      delay:
        type: string
        description: "Textual information about the first delay on the route"
        example: "00:15 h"
      travelTime:
        type: string
        description: "Textual information about the travel time on the route"
        example: "03:30 h"

  SimpleRouteDetail:
    type: object
    required:
      - id
      - mainSectionId
      - departureStationId
      - departureCityId
      - departureTime
      - arrivalStationId
      - arrivalCityId
      - arrivalTime
      - freeSeatsCount
      - sections
      - bookable
    properties:
      id:
        type: string
        description: "{section0.id},{section1.id}, ... "
      mainSectionId:
        type: integer
        format: int64
        description: "Major part of the route. Only for this section can customer select Class or Standard."

      departureStationId:
        type: integer
        format: int64
      departureStationName:
        type: string
        example: "AN Florenc"
      departureCityId:
        type: integer
        format: int64
      departureCityName:
        type: string
        example: "Prague"
      departureTime:
        type: string
        format: date-time
        example: "2017-12-19T19:00:00.000+02:00"

      arrivalStationId:
        type: integer
        format: int64
      arrivalStationName:
        type: string
        example: "AN u hotelu Grand"
      arrivalCityId:
        type: integer
        format: int64
      arrivalCityName:
        type: string
        example: "Brno"
      arrivalTime:
        type: string
        format: date-time
        example: "2017-12-19T21:35:00.000+02:00"

      freeSeatsCount:
        type: integer
        description: "Returns smallest number of available free seats through all sections"
        example: 44

      priceFrom:
        type: number
        example: 169
      priceTo:
        type: number
        example: 1209
      creditPriceFrom:
        type: number
        example: 159
      creditPriceTo:
        type: number
        example: 1109

      vehicleTypes:
        type: array
        items:
          $ref: '#/definitions/VehicleType'
      priceClasses:
        type: array
        items:
          $ref: '#/definitions/PriceClass'
      surcharge:
        $ref: '#/definitions/Surcharge'
      sections:
        type: array
        items:
          $ref: '#/definitions/Section'

      notices:
        type: boolean
        description: "Notice of any extraordinarily events on route / traffic limitation"
        example: true

      transfersInfo:
        $ref: '#/definitions/TransfersInfo'

      nationalTrip:
        type: boolean
        description: "TRUE => national, FALSE => international"
        example: true
      bookable:
        type: boolean
        description: "TRUE if at least one class have enough free seats for reservation, otherwise FALSE"
        example: true
      delay:
        type: string
        description: "Textual information about the first delay on the route"
        example: "00:15 h"
      travelTime:
        type: string
        description: "Textual information about the travel time on the route"
        example: "03:30 h"
      carbonOffset:
        $ref: '#/definitions/AmountCurrency'

  SimpleRoute:
    type: object
    required:
      - id
      - creditPriceFrom
      - priceFrom
      - freeSeatsCount
      - arrivalTime
      - departureTime
      - vehicleTypes
      - pricesCount
      - actionPrice
      - surcharge
      - notices
      - support
      - bookable
    properties:
      id:
        type: string
        description: "{section0.id},{section1.id}, ... "

      # Departure
      departureStationId:
        type: integer
        format: int64
        example: 10204002
      departureTime:
        type: string
        format: date-time
        example: "2017-12-19T19:00:00.000+02:00"

      # Arrival
      arrivalStationId:
        type: integer
        format: int64
        example: 10204000
      arrivalTime:
        type: string
        format: date-time
        example: "2017-12-19T21:35:00.000+02:00"

      #Typy spoj
      vehicleTypes:
        type: array
        description: "Connection type (for example: train, bus)"
        items:
          $ref: '#/definitions/VehicleType'
      # Poet pestup
      transfersCount:
        type: integer
        description: "Amount of transfers"
        example: 3
      # Poet mst
      freeSeatsCount:
        type: integer
        description: "Returns smallest number of available free seats through all sections"
        example: 44

      # Ceny a ocenn
      priceFrom:
        type: number
        example: 169
      priceTo:
        type: number
        example: 1209
      creditPriceFrom:
        type: number
        example: 159
      creditPriceTo:
        type: number
        example: 1109
      pricesCount:
        type: integer
        example: 2
        description: "Amount of prices"

      # Ikony ANO / NE pro sdlen, akn ceny a pplatky
      actionPrice:
        $ref: '#/definitions/ActionPrice'
        description: "Action price if any of prices is action price, otherwise null."
      surcharge:
        type: boolean
        description: "TRUE if there is surcharge on this line, otherwise FALSE"
        example: false
      notices:
        type: boolean
        description: "Notice of any extraordinarily events on route / traffic limitation"
        example: true
      support:
        type: boolean
        description: "TRUE if this line (or its part) have support connection, otherwise FALSE"
        example: true

      nationalTrip:
        type: boolean
        description: "TRUE => national, FALSE => international"
        example: true
      bookable:
        type: boolean
        description: "TRUE if at least one class have enough free seats for reservation, otherwise FALSE"
        example: true
      delay:
        type: string
        description: "Textual information about the first delay on the route"
        example: "00:15 h"
      travelTime:
        type: string
        description: "Textual information about the travel time on the route"
        example: "03:30 h"
      vehicleStandards:
        type: array
        example: "FUN_RELAX, FUN_RELAX_SELF_SERVICE"
        description: "Vehicle standards"
        items:
          type: string
          enum: [YELLOW, YELLOW_R8, ECONOMY, FUN_RELAX, FUN_RELAX_SELF_SERVICE, FUN_RELAX_NO_STEWARD,
                 FUN_RELAX_PLUS, DEUTSCHE_BAHN, YELLOW_ICAFE, ECONOMY_PLATFORM, TIGER_EXPRESS, RESTAURANT,
                 SAD, WEST_BAHN, IDS_JMK, OBB, UKRAINIAN_RAILWAYS, GEPARD_EXPRESS, UNITED_BUSES]

  Surcharge:
    type: object
    description: "Compulsory irreversible surcharge"
    required:
      - price
      - notification
    properties:
      price:
        type: number
        description: "Surcharge amount (isnt included in basic line price or even in priceClass)"
        example: 300
      notification:
        type: string
        description: "Notification which needs to be confirmed by customer"
        example: "Every reservation into this connection will be in addition charged with irreversible surcharge of 300 CZK"

  Seat:
    type: object
    properties:
      index:
        type: integer
        description: "Number of seat in vehicle"
        example: 15
      seatClass:
        type: string
        example: "RELAX"
      seatConstraint:
        type: string
        description: "Notification which needs to be confirmed by customer before continue in reservation"
        example: "Only women are allowed to this coupe"
      seatNotes:
        type: array
        description: "Supplementary informations which are shown but isnt required to be confirmed"
        example:
          - "You've choosed seat in LOW COST class - without service. Seats are equipped with elbow armrest and are unmovable, thats why they're suitable for short distance traveling. Bottled water Rajec, newspapers and magazines are available. Enjoy undisturbed travel with option of watching more than 50 movies, listening music and playing games in your own device."
        items:
          type: string

  Tariff:
    type: object
    properties:
      key:
        type: string
        description: "Used tariff enum value"
        example: "REGULAR"
      value:
        type: string
        description: "Tariff translation"
        example: "Adult"
      shortName:
        type: string
        description: "Localised tariff abbreviation."
      note:
        type: string
        description: "Localized tariff note."
      shortDescription:
        type: string
        description: "Localized short version of tariff description."
      description:
        type: string
        description: "Localized long version of tariff description."

  Currency:
    type: string
    enum:
      - EUR
      - CZK
    default: EUR
    example: CZK

  CustomerActions:
    description: "Defines which actions can be executed with current ticket state"
    type: object
    required:
      - showDetail
      - pay
      - payRemaining
      - evaluate
      - cancel
      - storno
      - rebook
      - additionalServices
      - editPassengers
      - sentToMail
      - printTicket
      - printInvoice
      - requiredToFillInQuestionnaire
    properties:
      showDetail:
        type: boolean
        default: false
      pay:
        type: boolean
        default: false
      payRemaining:
        type: boolean
        default: false
      evaluate:
        type: boolean
        default: false
      cancel:
        type: boolean
        default: false
      storno:
        type: boolean
        default: false
      rebook:
        type: boolean
        default: false
      editPassengers:
        type: boolean
        default: false
      additionalServices:
        type: boolean
        default: false
      sentToMail:
        type: boolean
        default: false
      printTicket:
        type: boolean
        default: false
      printInvoice:
        type: boolean
        default: false
      requiredToFillInQuestionnaire:
        type: boolean
        default: false

  Passenger:
    type: object
    required:
      - tariff
    properties:
      id:
        type: integer
        format: int64
        example: 3895574004
      firstName:
        type: string
        description: "First name"
        example: "First"
      surname:
        type: string
        description: "Surname"
        example: "Passenger"
      phone:
        type: string
        example: "+420777666777"
      email:
        type: string
        format: email
        description: "Email are always required after first passenger if not pre-filled in user account (or customer isnt logged in)"
        example: "first.passenger@email.com"
      dateOfBirth:
        type: string
        example: "1988-07-21"
        format: date
      tariff:
        type: string
        example: "REGULAR"
      amount:
        type: number
        description: "Basic price (ticket purchase) for tariff set on ticket with ticket currency (doesnt count with discounts)"
        example: "100"
      moneyBack:
        type: number
        description: "Final amount for passenger which will be refunded if canceled."
        example: "90"

  PassengerRequest:
    type: object
    required:
      - tariff
    properties:
      firstName:
        type: string
        description: "First name"
        example: "First"
      surname:
        type: string
        description: "Surname"
        example: "Passenger"
      phone:
        type: string
        example: "+420777666777"
      email:
        type: string
        format: email
        example: "first.passenger@email.com"
      dateOfBirth:
        type: string
        example: "1978-07-21"
        format: date
      tariff:
        type: string
        example: "REGULAR"

  PutRatingRequest:
    type: object
    required:
      - forms
    properties:
      forms:
        type: array
        items:
          $ref: '#/definitions/SectionPutRatingRequest'

  SectionPutRatingRequest:
    type: object
    required:
      - sectionId
      - form
    properties:
      sectionId:
        type: integer
        format: int64
      form:
        $ref: '#/definitions/RatingAnsweredFormData'

  RatingAnsweredFormData:
    description: "Shows already filled rating form."
    type: object
    required:
      - fields
    properties:
      fields:
        type: array
        items:
          $ref: '#/definitions/RatingAnsweredFormField'

  RatingAnsweredFormField:
    type: object
    required:
      - questionId
    properties:
      questionId:
        type: integer
        example: "3333"
      answerId:
        type: integer
        example: "123456"
      text:
        type: string
        example: "Answer text"

  RatingFormData:
    description: "Rating form description + so far filled questions"
    type: object
    required:
      - sectionId
      - answers
      - fields
    properties:
      sectionId:
        type: integer
        format: int64
      answers:
        $ref: '#/definitions/RatingAnsweredFormData'
      fields:
        type: array
        items:
          $ref: '#/definitions/FormQuestion'

  FormQuestion:
    type: object
    required:
      - questionId
      - type
      - text
    properties:
      questionId:
        type: integer
        description: "Question identifier. If empty form wont be send to server during saving (for example: static elements without customer entry)"
        example: "3333"
      type:
        $ref: '#/definitions/FormQuestionType'
      text:
        type: string
        description: "Qustion title, text paragraph or form title"
        example: "How would you rate board crew attitude?"
      watermark:
        type: string
        description: "Text fields watermark"
        example: "Your comment to crew work"
      options:
        type: array
        description: "List of options (only if there is select option type)"
        items:
          $ref: '#/definitions/FormAnswer'

  FormQuestionType:
    type: string
    description: |
      * `MULTI_COMBO` - "Multiple available answer options"
      * `TEXT` - "Question with open answer"
      * `RADIO_BUTTON` - "Only one answer choice is available"
      * `CHECKBOX` - boolean true/false
      * `HEADER` - "Special type, isnt question really, contain text which we want to show customer"
    enum: [MULTI_COMBO, TEXT, RADIO_BUTTON, CHECKBOX, HEADER]

  FormAnswer:
    type: object
    required:
      - text
    properties:
      text:
        type: string
        description: "Text of pre-filled answers"
        example: "Very satisfied"
      answerId:
        type: integer
        description: "Answer code sended to server which isnt shown to user."
        example: 123456

  WheelChairPlatformOrder:
    description: "Wheelchair platform order."
    type: object
    required:
      - phone
    properties:
      phone:
        type: string
        example: "+420777000000"
      email:
        type: string
        example: "mail@example.com"

  CreateTicketResponseRegistered:
    type: object
    required:
      - tickets
    properties:
      tickets:
        type: array
        items:
          $ref: '#/definitions/Ticket'

  CreateTicketResponseUnregistered:
    type: object
    required:
      - token
      - tickets
    properties:
      token:
        type: string
        description: "Newly created user account token which is linked to ticket(s)"
        example: "5348c0b3-e02b-4308-bf56-c8fc991a982e"
      tickets:
        type: array
        items:
          $ref: '#/definitions/Ticket'

  CreateTicketResponseUnregisteredAffiliate:
    type: object
    required:
      - token
      - tickets
    properties:
      token:
        type: string
        description: "Newly created user account token which is linked to ticket(s)"
        example: "5348c0b3-e02b-4308-bf56-c8fc991a982e"
      tickets:
        type: array
        items:
          $ref: '#/definitions/TicketAffiliate'

  CreateRegisteredTimeTicketsRequest:
    type: object
    required:
      - timeTicketRequests
    properties:
      timeTicketRequests:
        type: array
        items:
          $ref: '#/definitions/TimeTicketRequest'
  CreateUnregisteredTimeTicketRequest:
    type: object
    required:
      - unregisteredTimeTicketCreateRequest
    properties:
      unregisteredTimeTicketCreateRequest:
        type: array
        items:
          $ref: '#/definitions/UnregisteredTimeTicketCreateRequest'

  UnregisteredTimeTicketCreateRequest:
    type: object
    required:
      - station1Id
      - station2Id
      - timeTicketType
      - validFrom
      - seatClassKey
      - tariff
      - email
      - lineGroupCode
      - lineNumber
    properties:
      station1Id:
        type: integer
        format: int64
        example: 10204002
      station2Id:
        type: integer
        format: int64
        example: 10204003
      timeTicketType:
        description: "Time ticket type"
        $ref: '#/definitions/TimeTicketType'
        example: "FLEX"
      validFrom:
        type: string
        format: date-time
        description: "Ticket validity DateTime."
        example: "2012-04-23T18:25:43.511Z"
      seatClassKey:
        type: string
        description: "PricedSeatClass enum.name"
        example: "TRAIN_STANDARD"
      tariff:
        description: "Priced seat class"
        $ref: '#/definitions/TariffEnum'
        example: "REGULAR"
      email:
        type: string
        format: email
      lineGroupCode:
        type: string
        description: "Line group code."
        example: "VLAK_R8"
      lineNumber:
        type: integer
        format: int32
        description: "Line number."
        example: 270
      connectionCode:
        type: string
        description: "Connection code."
        example: "RJ 1001"
      operator:
        type: string
        description: "Operator code."
        example: "RJ_TRAIN"

  TimeTicketRequest:
    type: "object"
    required:
      - "station1Id"
      - "station2Id"
      - "validFrom"
      - "type"
      - "tariff"
      - "seatClass"
      - "lineGroupCode"
      - "lineNumber"
    properties:
      station1Id:
        type: "integer"
        format: "int64"
        description: "Valid station ID. Independently of the order "
        example: "10204003"
      station2Id:
        type: "integer"
        format: "int64"
        description: "Valid station ID. Independently of the order"
        example: "10204002"
      validFrom:
        type: "string"
        format: "date-time"
        description: "Date from ticket is valid."
        example: "2012-04-23T18:25:43.511Z"
      tariff:
        type: "string"
        description: "Tariff type"
        example: "REGULAR"
      type:
        description: "Time ticket type"
        $ref: '#/definitions/TimeTicketType'
        example: "FLEX"
      seatClass:
        type: "string"
        description: "Seat class - enum.PricedSeatClass (TRAIN_2ND_CLASS, TRAIN_1ST_CLASS)"
        example: "TRAIN_2ND_CLASS"
      lineGroupCode:
        type: "string"
        description: "Line group code."
        example: "VLAK_R8"
      lineNumber:
        type: integer
        format: int32
        description: "Line number."
        example: 270
      connectionCode:
        type: string
        description: "Connection code."
        example: "RJ 1001"
      operator:
        type: string
        description: "Operator code."
        example: "RJ_TRAIN"

  Ticket:
    type: object
    description: "expirationDate is date-time value states when ticket expires. ExpiresAt states how many days, hours and minutes left to ticket expiration."
    required:
      - id
      - ticketCode
      - routeId
      - price
      - unpaid
      - currency
      - state
      - seatClassKey
      - conditions
      - customerActions
      - passengersInfo
      - routeSections
      - wheelChairPlatformOrderPossible
      - wheelChairPlatformOrdered
    properties:
      id:
        type: integer
        format: int64
        description: ID of the ticket
        example: 3895569002
      ticketCode:
        type: string
        description: Unique code of a ticket.
        example: 5868814784
      routeId:
        type: string
        description: "route id (section0.id,section1.id, ... sectionx.id)"
        example: "3804436614,3862631913"
      actionName:
        type: string
        description: "A name of an action."
        example: "Special"
      price:
        type: number
        description: "Final price for ticket, addons etc."
        example: 540
      unpaid:
        type: number
        description: "Final price to be paid"
        example: 0
      currency:
        $ref: '#/definitions/Currency'
      state:
        $ref: '#/definitions/TicketState'
      seatClassKey:
        type: string
        example: C1
      conditions:
        $ref: '#/definitions/PriceConditions'
      expirationDate:
        type: string
        format: date-time
        example: "2018-02-17T00:50:00.000+02:00"
      expirateAt:
        $ref: '#/definitions/TimePeriod'
      customerNotifications:
        type: array
        items:
          type: string
          example: "Line is servised by partner carrier bus MT-Lines"
      customerActions:
        $ref: '#/definitions/CustomerActions'
      routeSections:
        type: array
        items:
          $ref: '#/definitions/TicketSection'
      addons:
        type: array
        items:
          $ref: '#/definitions/OrderedAddon'
      paymentId:
        type: integer
        format: int64
        description: "Payment ID (groupTransactionID). Available only with paid ticket. Necessary for further action with ticket (for example: print invoice)"
        example: 3951798008
      bills:
        type: array
        items:
          $ref: '#/definitions/TicketBill'
      usedCodeDiscount:
        $ref: '#/definitions/CodeDiscount'
      usedPercentualDiscounts:
        type: array
        description: "Applied procentual discounts"
        items:
          $ref: '#/definitions/PercentualDiscount'
      transfersInfo:
        $ref: '#/definitions/TransfersInfo'
      surcharge:
        type: number
        description: "Total count of all irreversible surcharges in current currency"
        example: 100
      cancelChargeSum:
        type: number
        description: "Total count of all charges and surcharge"
        example: 499
      cancelMoneyBackSum:
        type: number
        description: "Total count of reversible amounts"
        example: 41
      passengersInfo:
        $ref: '#/definitions/PassengersInfo'
      delay:
        type: string
        description: "Textual information about the first delay on the route"
        example: "00:15 h"
      travelTime:
        type: string
        description: "Textual information about the travel time on a given section"
        example: "01:10 h"
      estimatedArrivalTime:
        type: string
        format: date-time
        example: "2018-02-17T00:50:00.000+02:00"
        description: "Estimated arrival date time (arrival + delay)"
      affiliateTicket:
        type: boolean
        description: "Returns true in case the ticket was crited by affiliate partner."
      wheelChairPlatformOrderPossible:
        type: boolean
        description: "A flag that indicates whether it is possible or not to order a wheelchair platform for this ticket."
        example: false
      wheelChairPlatformOrdered:
        type: boolean
        description: "A flag that indicates whether is ordered a wheelchair platform for this ticket."
        example: false
      carbonOffset:
        $ref: '#/definitions/AmountCurrency'

  TicketAffiliate:
    type: object
    description: "expirationDate is date-time value states when ticket expires. ExpiresAt states how many days, hours and minutes left to ticket expiration."
    required:
      - id
      - ticketCode
      - routeId
      - price
      - unpaid
      - currency
      - state
      - seatClassKey
      - conditions
      - customerActions
      - passengersInfo
      - routeSections
      - wheelChairPlatformOrderPossible
      - wheelChairPlatformOrdered
    properties:
      id:
        type: integer
        format: int64
        description: ID of the ticket
        example: 3895569002
      ticketCode:
        type: string
        description: Unique code of a ticket.
        example: 5868814784
      routeId:
        type: string
        description: "route id (section0.id,section1.id, ... sectionx.id)"
        example: "3804436614,3862631913"
      actionName:
        type: string
        description: "A name of an action."
        example: "Special"
      price:
        type: number
        description: "Final price for ticket, addons etc."
        example: 540
      unpaid:
        type: number
        description: "Final price to be paid"
        example: 0
      currency:
        $ref: '#/definitions/Currency'
      state:
        $ref: '#/definitions/TicketState'
      seatClassKey:
        type: string
        example: C1
      conditions:
        $ref: '#/definitions/PriceConditions'
      expirationDate:
        type: string
        format: date-time
        example: "2018-02-17T00:50:00.000+02:00"
      expirateAt:
        $ref: '#/definitions/TimePeriod'
      customerNotifications:
        type: array
        items:
          type: string
          example: "Line is servised by partner carrier bus MT-Lines"
      customerActions:
        $ref: '#/definitions/CustomerActions'
      routeSections:
        type: array
        items:
          $ref: '#/definitions/TicketSection'
      addons:
        type: array
        items:
          $ref: '#/definitions/OrderedAddon'
      paymentId:
        type: integer
        format: int64
        description: "Payment ID (groupTransactionID). Available only with paid ticket. Necessary for further action with ticket (for example: print invoice)"
        example: 3951798008
      bills:
        type: array
        items:
          $ref: '#/definitions/TicketBill'
      usedCodeDiscount:
        $ref: '#/definitions/CodeDiscount'
      usedPercentualDiscounts:
        type: array
        description: "Applied procentual discounts"
        items:
          $ref: '#/definitions/PercentualDiscount'
      transfersInfo:
        $ref: '#/definitions/TransfersInfo'
      surcharge:
        type: number
        description: "Total count of all irreversible surcharges in current currency"
        example: 100
      cancelChargeSum:
        type: number
        description: "Total count of all charges and surcharge"
        example: 499
      cancelMoneyBackSum:
        type: number
        description: "Total count of reversible amounts"
        example: 41
      passengersInfo:
        $ref: '#/definitions/PassengersInfo'
      delay:
        type: string
        description: "Textual information about the first delay on the route"
        example: "00:15 h"
      travelTime:
        type: string
        description: "Textual information about the travel time on a given section"
        example: "01:10 h"
      estimatedArrivalTime:
        type: string
        format: date-time
        example: "2018-02-17T00:50:00.000+02:00"
        description: "Estimated arrival date time (arrival + delay)"
      affiliateTicket:
        type: boolean
        description: "Returns true in case the ticket was crited by affiliate partner."
      wheelChairPlatformOrderPossible:
        type: boolean
        description: "A flag that indicates whether it is possible or not to order a wheelchair platform for this ticket."
        example: false
      wheelChairPlatformOrdered:
        type: boolean
        description: "A flag that indicates whether is ordered a wheelchair platform for this ticket."
        example: false

  QrCodeTicket:
    type: object

    properties:
      qrCodeVersion:
        type: integer
        description: "Version of QR code"
        example: 2
      qrCodeTicketType:
        $ref: '#/definitions/QrCodeTicketType'
      ticketId:
        type: integer
        description: "If there is used discount there is as well ticket ID which is linked to it."
        format: int64

  QrCodeAccount:
    type: object
    properties:
      qrCodeVersion:
        type: integer
        description: "Version of QR code"
        example: 2
      qrCodeAccountType:
        $ref: '#/definitions/QrCodeAccountType'
      accountCode:
        type: string
        description: "Code of account"
      name:
        type: string
        description: "First name of passenger"
      surname:
        type: string
        description: "Surname of passenger"
      tariff:
        type: string
        description: "Default tariff of account"
      currency:
        type: string
        description: "Default currency of account"

  QrCodeTimeTicket:
    type: object
    properties:
      qrCodeVersion:
        type: integer
        description: "Version of QR code"
        example: 2
      qrCodeTicketType:
        $ref: '#/definitions/QrCodeTicketType'
      ticketId:
        type: integer
        description: "If there is used discount there is as well ticket ID which is linked to it."
        format: int64
      fromStationId:
        type: integer
        format: int64
        description: "Valid station ID (city ID unsupported at this level)"
      toStationId:
        type: integer
        format: int64
        description: "Valid station ID (city ID unsupported at this level)"
      validFrom:
        type: string
        format: date-time
        description : "Start of validity time ticket"
      validTo:
        type: string
        format: date-time
        description: "Expiration date of time ticket"

  QrCodeSroTicket:
    type: object
    properties:
      qrCodeVersion:
        type: integer
        description: "Version of QR code"
        example: 2
      qrCodeTicketType:
        $ref: '#/definitions/QrCodeTicketType'
      sroTicketId:
        type: integer
        description: "Seat reservation ticket ID"
        format: int64

  QrCodeTicketType:
    type: string
    enum: [RJ_SEAT, RJ_TIME, RJ_SRO]
    example: RJ_SEAT
    description: "Ticket type of QR code"

  QrCodeAccountType:
    type: string
    enum: [RJ_ACCOUNT]
    example: RJ_ACCOUNT
    description: "Account type of QR code"

  PassengersInfo:
    description: "Summary of all informations needed for work with passengers."
    type: object
    required:
      - passengers
      - firstPassengerData
      - otherPassengersData
      - changeCharge
    properties:
      passengers:
        type: array
        items:
          $ref: '#/definitions/Passenger'
      firstPassengerData:
        description: "Required fields for 1st passenger (returns only if tickets is editable)"
        type: array
        items:
          $ref: '#/definitions/PersonalDataType'
      otherPassengersData:
        description: "Required fields for all others passengers (returns only if tickets is editable)"
        type: array
        items:
          $ref: '#/definitions/PersonalDataType'
      changeCharge:
        type: number
        example: 200
        description: "Administrative charge for user information change (in ticket currency)"

  TicketSection:
    type: object
    required:
      - section
      - fixedSeatReservation
      - selectedSeats
    properties:
      section:
        $ref: '#/definitions/Section'
      fixedSeatReservation:
        type: boolean
        description: "TRUE => seat reservation; FALSE => seat choosed while boarding"
      selectedSeats:
        type: array
        items:
          $ref: '#/definitions/SelectedSeat_1_0_0'
      vehicles:
        type: array
        items:
          $ref: '#/definitions/Vehicle_1_2_0'

  TicketBill:
    type: object
    required:
      - number
      - amount
      - currency
      - label
      - amountWithoutVat
      - vatAmount
      - dateOfChargeableEvent
    properties:
      number:
        type: integer
        format: int64
        description: "A bill number."
        example: 123465789
      amount:
        type: number
        example: "494.00"
      currency:
        $ref: '#/definitions/Currency'
      label:
        type: string
      type:
        type: string
      vatRate:
        type: number
        example: "10.00"
      amountWithoutVat:
        type: number
        description: "A bill amount minus VAT."
        example: "449.10"
      vatAmount:
        type: number
        description: "A VAT amount portion of a bill amount."
        example: "44.90"
      dateOfChargeableEvent:
        type: string
        format: date-time
        example: "A payment date."
      buyer:
        $ref: '#/definitions/Buyer'

  Buyer:
    type: object
    required:
      - name
      - address
    properties:
      name:
        type: string
      address:
        type: string
      id:
        type: string
      tin:
        type: string

  SroTicketBill:
    type: object
    required:
      - amount
      - currency
      - label
    properties:
      amount:
        type: number
      currency:
        $ref: '#/definitions/Currency'
      label:
        type: string

  SeatClass:
    type: object
    required:
      - key
      - title
      - shortDescription
      - description
    properties:
      key:
        type: string
        example: "C1"
        description: "enum.name"
      vehicleClass:
        type: string
        example: "undefined"
        description: "Vehicle class."
        enum: ["1", "2", "undefined"]
      title:
        type: string
        description: "Class title"
        example: "RELAX"
      shortDescription:
        type: string
        description: "Class shortDescription."
        example: "Open space of the ASTRA car, or compartments for 6 passengers. Illy coffee and Rajec water for free. Special kids compartment."
      description:
        type: string
        description: "Class descriptions."
        example: "Full service, open space, large leather seats. Recommended."
      imageUrl:
        type: string
        example: "https://bustickets.regiojet.com/...img.png"
      galleryUrl:
        type: string
        description: "Class photogalery URL"
        example: "https://www.regiojet.com/services/services-on-board-of-trains/"

  User:
    type: object
    properties:
      id:
        type: integer
        format: int64
      accountCode:
        type: string
        description: "Used as account ID for login"
        example: 8838350718
      firstName:
        type: string
        example: "First"
      surname:
        type: string
        example: "Passenger"
      phoneNumber:
        type: string
        example: "+420777222666"
      restrictPhoneNumbers:
        type: boolean
        default: false
        description: "Restrict phone number for work with sms."
      email:
        type: string
        format: email
        example: first.passenger@gmail.com
      credit:
        type: number
        description: "Account balance"
        example: 50
      creditPrice:
        type: boolean
        default: true
        description: "Difference between registered credit account with price advantage and regular unregistered open account"
      currency:
        $ref: '#/definitions/Currency'
      defaultTariffKey:
        type: string
        description: "Set tariff which would be pre-filled after login"
        example: REGULAR
      notifications:
        $ref: '#/definitions/Notifications'
      companyInformation:
        type: boolean
        default: false
      company:
        $ref: '#/definitions/Company'
      conditionsAcceptance:
        type: boolean
        description: "Acceptance of transport conditions and personal data protection"
        default: false
      employeeNumber:
        type: integer
        example: 11111
        description: "NULL for normal customer, internal number for Regiojet employee"
      totalCarbonOffset:
        type: number
        description: "Total amount spent on carbon offset"
        example: 10
      savedCard:
        $ref: '#/definitions/SavedCard'
      locale:
        $ref: '#/definitions/Locale'

  SavedCard:
    type: object
    required:
      - brand
      - maskedNumber
      - expirationYear
      - expirationMonth
      - saveDate
      - status
    properties:
      brand:
        type: string
        description: "Card brand."
        example: "VISA"
      maskedNumber:
        type: string
        description: "Masked card number."
        example: "411111******1111"
      expirationYear:
        type: integer
        description: "Card expiration year."
        example: 2025
      expirationMonth:
        type: integer
        description: "Card expiration month."
        example: 1
      saveDate:
        type: string
        format: date
        description: "Remember card day."
        example: "2024-01-01"
      status:
        type: string
        enum: ["SAVED", "DELETED", "EXPIRED"]
        description: "Card status."

  ChangeUserRequest:
    type: object
    required:
      - companyInformation
      - defaultTariffKey
      - notifications
    properties:
      phoneNumber:
        type: string
        example: "+420111222333"
      restrictPhoneNumbers:
        type: boolean
        default: false
      companyInformation:
        type: boolean
      company:
        $ref: '#/definitions/Company'
      defaultTariffKey:
        type: string
      notifications:
        $ref: '#/definitions/Notifications'
      locale:
        $ref: '#/definitions/Locale'

  Company:
    type: object
    required:
      - companyName
      - address
      - registrationNumber
    properties:
      companyName:
        type: string
        example: "RegioJet"
      address:
        type: string
        example: "Nmst Svobody 17, 602 00 Brno"
      registrationNumber:
        type: string
        example: 25317075 #I, (optional)
      vatNumber:
        type: string #DI, (optional)
        example: CZ25317075

  SuccessResponse:
    type: object
    properties:
      message:
        type: string
        example: OK
      messageFields:
        type: array
        items:
          $ref: '#/definitions/MessageField'

  ErrorResponse:
    type: object
    required:
      - message
    properties:
      message:
        type: string
        description: "Common error/validation message"
        example: "Error description"
      errorFields:
        type: array
        items:
          $ref: '#/definitions/MessageField'

  MessageField:
    type: object
    required:
      - key
      - value
    properties:
      key:
        type: string
        description: "Error/invalid field title"
        example: "email"
      value:
        type: string
        description: "Error/validation message to current field"
        example: "Invalid email format"

  LanguageDictionary:
    type: object
    additionalProperties:
      type: string
    example:
      booking: Rezervace
      login: Pihlsit
      passengers: Poet osob
      search: Vyhledat

  PassengersDataRequest:
    type: object
    required:
      - sections
      - tariffs
      - seatClass
      - priceSource
    properties:
      sections:
        type: array
        items:
          $ref: '#/definitions/SimpleSection'
      tariffs:
        type: array
        items:
          type: string
          example: "REGULAR"
      seatClass:
        type: string
        example: "C1"
      priceSource:
        type: string
        description: "Pricing ID - used for confirmation that price, services or conditions werent changed"
        example: "3870611089<3088864001-3741302011-3863407000>"

  SroPassengersDataRequest:
    type: object
    required:
      - sections
      - passengersCount
      - seatClass
    properties:
      sections:
        type: array
        items:
          $ref: '#/definitions/SimpleSection'
      passengersCount:
        type: integer
        example: 1
      seatClass:
        type: string
        example: "C1"

  CreateTicketRequest:
    type: object
    required:
      - route
      - passengers
    description: "TODO: passenger by ml mt pznak isInsuarence + data..."
    properties:

      route:
        $ref: '#/definitions/CreateTicketRouteRequest'
      selectedAddons:
        type: array
        items:
          $ref: '#/definitions/SelectedAddon'

      passengers:
        type: array
        items:
          $ref: '#/definitions/Passenger'

      codeDiscount:
        type: string
        description: "Flat rate discount from fare price (does not apply on addons and charges). Applies first (before percentual discount)"
        example: "di4.d"

      percentualDiscountIds:
        type: array
        description: "Percentual discount from fare price (does not apply on addons and charges). Applies as seconds (after flat rate discount)"
        items:
          type: integer
          format: int64
          example: 30495730405

      carbonOffset:
        $ref: '#/definitions/AmountCurrency'

      company:
        $ref: '#/definitions/Company'

  CreateTicketRequestAffiliate:
    type: object
    required:
      - route
      - passengers
    description: "TODO: passenger by ml mt pznak isInsuarence + data..."
    properties:

      route:
        $ref: '#/definitions/CreateTicketRouteRequest'
      selectedAddons:
        type: array
        items:
          $ref: '#/definitions/SelectedAddon'

      passengers:
        type: array
        items:
          $ref: '#/definitions/Passenger'

      codeDiscount:
        type: string
        description: "Flat rate discount from fare price (does not apply on addons and charges). Applies first (before percentual discount)"
        example: "di4.d"

      percentualDiscountIds:
        type: array
        description: "Percentual discount from fare price (does not apply on addons and charges). Applies as seconds (after flat rate discount)"
        items:
          type: integer
          format: int64
          example: 30495730405

  CreateUnregisteredTicketRequest:
    type: object
    required:
      - agreeWithTerms
      - ticketRequests
    properties:
      agreeWithTerms:
        type: boolean
        default: false
        description: "Agree with terms"
      ticketRequests:
        type: array
        items:
          $ref: '#/definitions/CreateTicketRequest'
      affiliateCode:
        type: string
        example: "affcode123456"
        description: "Optional code of an affiliate partner."

  CreateUnregisteredTicketRequestAffiliate:
    type: object
    required:
      - agreeWithTerms
      - ticketRequests
    properties:
      agreeWithTerms:
        type: boolean
        default: false
        description: "Agree with terms"
      ticketRequests:
        type: array
        items:
          $ref: '#/definitions/CreateTicketRequestAffiliate'
      affiliateCode:
        type: string
        example: "affcode123456"
        description: "Optional code of an affiliate partner."

  CreateRegisteredTicketRequest:
    type: object
    required:
      - ticketRequests
    properties:
      ticketRequests:
        type: array
        items:
          $ref: '#/definitions/CreateTicketRequest'
      affiliateCode:
        type: string
        example: "affcode123456"
        description: "Optional code of an affiliate partner."

  CreateTicketRouteRequest:
    type: object
    required:
      - routeId
      - seatClass
      - priceSource
      - sections
    properties:
      routeId:
        type: string
        description: "route id (section0.id,section1.id, ... sectionx.id)"
        example: "3804436614,3862631913"
      seatClass:
        type: string
        example: "C1"
      priceSource:
        type: string
        description: "Pricing ID - used for confirmation that price, services or conditions werent changed"
        example: "3870611089<3088864001-3741302011-3863407000>"
      actionPrice:
        $ref: '#/definitions/ActionPrice'
      sections:
        type: array
        items:
          $ref: '#/definitions/CreateTicketSectionRequest'

  CreateTicketSectionRequest:
    type: object
    required:
      - section
    properties:
      section:
        $ref: '#/definitions/SimpleSection'
      selectedSeats:
        type: array
        items:
          $ref: '#/definitions/SelectedSeat_1_0_0'

  SimpleSection:
    type: object
    required:
      - sectionId
      - fromStationId
      - toStationId
    properties:
      sectionId:
        type: integer
        format: int64
        example: 3804436614
      fromStationId:
        type: integer
        format: int64
        description: "Valid station ID (city ID unsupported at this level)"
        example: 17797001
      toStationId:
        type: integer
        format: int64
        description: "Valid station ID (city ID unsupported at this level)"
        example: 10204002

  SeatPreference:
    type: object
    required:
      - tariffs
      - seatClass
    properties:
      tariffs:
        type: array
        items:
          $ref: '#/definitions/Tariff'
      seatClass:
        $ref: '#/definitions/SeatClass'

  PassengersDataResponse:
    type: object
    required:
      - firstPassengerData
      - otherPassengersData
    properties:
      firstPassengerData:
        description: "Required fields for 1st passenger"
        type: array
        items:
          $ref: '#/definitions/PersonalDataType'
      otherPassengersData:
        description: "Required fields for all other passengers"
        type: array
        items:
          $ref: '#/definitions/PersonalDataType'

  Vehicle_1_2_0:
    type: object
    required:
      - vehicleId
      - vehicleNumber
      - freeSeats
      - occupiedSeats
      - vehicleSeatClasses
      - vehicleStandardKey
    properties:
      vehicleId:
        type: integer
        format: int64
        example: 3789624138
      code:
        type: string
        description: "Vehicle code tag (BUS => SPZ, VAGON => code)"
      layoutURL:
        type: string
      horizontalLayoutURL:
        type: string
      type:
        $ref: '#/definitions/VehicleType'
      vehicleStandardKey:
        type: string
        description: "Vehicle standard code tag"
        example: "YELLOW"
      services:
        type: array
        description: "Supported services icons (wifi, etc.)"
        items:
          type: string
          example: "wifi"
      vehicleNumber:
        type: integer
        example: 7
      vehicleSeatClasses:
        description: "Available services in this vehicle"
        type: array
        items:
          $ref: '#/definitions/VehicleSeatClass'
      notifications:
        description: "Additional informations relating to whole vehicle. These informations are visible, but wont requiring confirmation."
        example:
          - "You've chosen seat on line where you wont be accompanied by steward(ess). Bus driver will ensure check-in, safe and nothing disturbed travel. Connection will be operated by air-conditioned bus with toilet and services like wifi, newspapers or fun portal (depend on bus type)."
        type: array
        items:
          type: string
      freeSeats:
        type: array
        items:
          $ref: '#/definitions/Seat'
      occupiedSeats:
        type: array
        items:
          $ref: '#/definitions/Seat'
      cateringEnabled:
        type: boolean
        description: "Indicates if catering is enabled in current vehicle (i.e. it is possible for a customer to place catering order)."
        example: true

  Vehicle_1_0_0:
    type: object
    required:
      - vehicleId
      - vehicleNumber
      - freeSeats
      - occupiedSeats
      - seatClasses
      - vehicleStandardKey
    properties:
      vehicleId:
        type: integer
        format: int64
        example: 3789624138
      code:
        type: string
        description: "Vehicle code tag (BUS => SPZ, VAGON => code)"
      layoutURL:
        type: string
      horizontalLayoutURL:
        type: string
      type:
        $ref: '#/definitions/VehicleType'
      vehicleStandardKey:
        type: string
        description: "Vehicle standard code tag"
        example: "YELLOW"
      services:
        type: array
        description: "Supported services icons (wifi, etc.)"
        items:
          type: string
          example: "wifi"
      vehicleNumber:
        type: integer
        example: 7
      seatClasses:
        description: "Available classes in this vehicle"
        type: array
        items:
          type: string
          example:
            - C1
            - C2
      notifications:
        description: "Additional informations relating to whole vehicle. These informations are visible, but wont requiring confirmation."
        example:
          - "You've chosen seat on line where you wont be accompanied by steward(ess). Bus driver will ensure check-in, safe and nothing disturbed travel. Connection will be operated by air-conditioned bus with toilet and services like wifi, newspapers or fun portal (depend on bus type)."
        type: array
        items:
          type: string
      freeSeats:
        type: array
        items:
          $ref: '#/definitions/Seat'
      occupiedSeats:
        type: array
        items:
          $ref: '#/definitions/Seat'
      cateringEnabled:
        type: boolean
        description: "Indicates if catering is enabled in current vehicle (i.e. it is possible for a customer to place catering order)."
        example: true

  Vehicle:
    type: object
    required:
      - id
      - number
      - seatClasses
      - standard
      - decks
    properties:
      id:
        type: integer
        format: int64
        example: 3789624138
      code:
        type: string
        description: "Vehicle code tag (BUS => SPZ, VAGON => code)"
      type:
        $ref: '#/definitions/VehicleType'
      number:
        type: integer
        example: 7
      seatClasses:
        description: "Available services in this vehicle"
        type: array
        items:
          $ref: '#/definitions/VehicleSeatClass'
      standard:
        type: string
        description: "Vehicle standard code tag"
        example: "YELLOW"
      notifications:
        description: "Additional informations relating to whole vehicle. These informations are visible, but wont requiring confirmation."
        example:
          - "You've chosen seat on line where you wont be accompanied by steward(ess). Bus driver will ensure check-in, safe and nothing disturbed travel. Connection will be operated by air-conditioned bus with toilet and services like wifi, newspapers or fun portal (depend on bus type)."
        type: array
        items:
          type: string
      cateringEnabled:
        type: boolean
        description: "Indicates if catering is enabled in current vehicle (i.e. it is possible for a customer to place catering order)."
        example: true
      decks:
        type: array
        items:
          $ref: '#/definitions/VehicleDeck'

  SelectedSeat_1_0_0:
    type: object
    required:
      - sectionId
      - vehicleNumber
      - seatIndex
    properties:
      sectionId:
        type: integer
        format: int64
        example: 3789624138
      vehicleNumber:
        type: integer
        example: 7
      seatIndex:
        type: integer
        example: 15

  SelectedSeat:
    type: object
    required:
      - sectionId
      - vehicleNumber
      - vehicleDeckNumber
      - seatIndex
    properties:
      sectionId:
        type: integer
        format: int64
        example: 3789624138
      vehicleNumber:
        type: integer
        example: 7
      vehicleDeckNumber:
        type: integer
        example: 2
      seatIndex:
        type: integer
        example: 15

  Token:
    type: object
    properties:
      token:
        type: string
        example: "31b58ef4-7106-4a8f-a7ac-8bbc773a9090"

  UnregisteredLogin:
    type: object
    required:
      - accountCode
    properties:
      accountCode:
        type: string

  RegisteredLogin:
    type: object
    required:
      - accountCode
      - password
    properties:
      accountCode:
        type: string
      password:
        type: string

  EmailLogin:
    type: object
    required:
      - email
      - password
    properties:
      email:
        type: string
      password:
        type: string

  TicketState:
    type: string
    description: |
      * `USED` - Driven ticket.
      * `VALID` - Valid and paid ticket.
      * `UNPAID` - Unpaid reservation.
      * `CANCELED` - Canceled by user (soft-booking).
      * `DELETED` - Canceled by user (hard-booking).
      * `EXPIRED` - Expired soft-booking which cant be bought anymore.
      * `TO_BE_EXPIRED` - Expired soft-booking which wasn't be able to finish by system.
    enum: [USED, VALID, UNPAID, CANCELED, DELETED, EXPIRED, TO_BE_EXPIRED]

  TimeTicketType:
    type: string
    description: |
      * `FLEX` - Ticket for 1 way valid for 24 + 4 hours
      * `DAY` - Ticket for 1 day ( 24 + 4 hours)
      * `WEEK` - Ticket for 7 days (week)
      * `MONTH` - Ticket for 30 days (month)
      * `QUARTER` - Ticket for 90 days
    enum: [FLEX, DAY, WEEK, MONTH, QUARTER]

  TariffEnum:
    type: string
    description: |
      * `REGULAR`
      * `CHILD`
      * `ATTENDED_CHILD`
      * `YOUTH`
      * `EURO26`
      * `ISIC`
      * `ITIC`
      * `SENIOR`
      * `SENIOR_70`
      * `CZECH_STUDENT_PASS_15`
      * `CZECH_STUDENT_PASS_26`
      * `DISABLED`
      * `DISABLED_PLUS_ATTENDANCE`
      * `DISABLED_ATTENDANCE`
      * `RAILPLUS`
    enum: [REGULAR, CHILD, ATTENDED_CHILD, YOUTH, EURO26, ISIC, ITIC, SENIOR, SENIOR_70, CZECH_STUDENT_PASS_15, CZECH_STUDENT_PASS_26, DISABLED, DISABLED_PLUS_ATTENDANCE, DISABLED_ATTENDANCE, RAILPLUS]

  SignupRegisteredAccountRequest:
    type: object
    required:
      - firstName
      - surname
      - email
      - defaultTariff
      - currency
      - password
      - notifications
      - agreeWithTerms
    properties:
      firstName:
        type: string
        example: First
      surname:
        type: string
        example: Passenger
      phoneNumber:
        type: string
        example: +420777111333
      restrictPhoneNumbers:
        type: boolean
        default: false
        description: "Restrict phone number for work with sms"
      email:
        type: string
        format: email
        example: first.passenger@gmail.com
      companyInformation:
        type: boolean
        default: false
      company:
        $ref: '#/definitions/Company'
      defaultTariff:
        type: string
        example: "REGULAR"
      currency:
        $ref: '#/definitions/Currency'
      password:
        type: string

      notifications:
        $ref: '#/definitions/Notifications'

      agreeWithTerms:
        type: boolean
        default: false
        description: Agree with terms

  SimpleRegisteredAccountRequest:
    type: object
    required:
      - firstName
      - surname
      - email
      - password
      - notifications
      - agreeWithTerms
    properties:
      firstName:
        type: string
        example: First
      surname:
        type: string
        example: Passenger
      email:
        type: string
        format: email
        example: first.passenger@gmail.com
      phoneNumber:
        type: string
        example: +420777111333
      password:
        type: string

      notifications:
        $ref: '#/definitions/Notifications'

      agreeWithTerms:
        type: boolean
        default: false
        description: Agree with terms

  Notifications:
    type: object
    required:
      - newsletter
      - reservationChange
      - routeRatingSurvey
    properties:
      newsletter:
        type: boolean
        default: false
      reservationChange:
        type: boolean
        default: false
      routeRatingSurvey:
        type: boolean
        default: false

  PaymentsMethodsRequest:
    type: object
    required:
      - ticketsIds
    properties:
      ticketIds:
        type: array
        items:
          $ref: '#/definitions/PaymentTicketRequest'

  AddGiftCertificateRequest:
    type: object
    required:
      - certificate
      - email
    properties:
      certificate:
        type: string
        example: D3PS1F
      email:
        type: string
        format: email
        example: first.passenger@gmail.com

  ChargeRequest:
    type: object
    required:
      - formFields
      - tickets
    properties:
      formFields:
        type: array
        items:
          $ref: '#/definitions/PaymentFormFieldValue'
      tickets:
        type: array
        items:
          $ref: '#/definitions/PaymentTicketRequest'

  ChargeResponse:
    type: object
    required:
      - amount
      - currency
    properties:
      amount:
        type: number
        example: 335
      currency:
        $ref: '#/definitions/Currency'

  VerifyGiftCertificateRequest:
    type: object
    required:
      - certificateCode
    properties:
      certificateCode:
        type: string
        example: D3PS1F

  GiftCertificateInfo:
    type: object
    required:
      - certificateCode
      - state
    properties:
      certificateCode:
        type: string
        example: D3PS1F
      amount:
        type: number
        example: 200
      currency:
        $ref: '#/definitions/Currency'
      creationDate:
        type: string
        format: date-time
      expirationDate:
        type: string
        format: date-time
      state:
        $ref: '#/definitions/GiftCertificateState'

  GiftCertificateState:
    type: string

    enum: [VALID, UNPAID, EXPIRED, USED, NOT_EXISTS]
    example: VALID

  ForgottenPasswordRequest:
    type: object
    required:
      - email
      - accountCode
    properties:
      accountCode:
        type: string
        example: 1234567890
      email:
        type: string
        format: email
        example: first.passenger@email.com
      correlationId:
        type: string
        description: "Attribute value will be added into URL address as path param"
        example: mobile

  ForgottenPasswordByMailRequest:
    type: object
    required:
      - email
    properties:
      email:
        type: string
        format: email
        example: first.passenger@email.com
      correlationId:
        type: string
        description: "Attribute value will be added into URL address as path param"
        example: mobile

  ResetPasswordRequest:
    type: object
    required:
      - newPassword
    properties:
      newPassword:
        type: string

  ChangePasswordRequest:
    type: object
    required:
      - oldPassword
      - newPassword
    properties:
      oldPassword:
        type: string
        description: "Old password"
      newPassword:
        type: string
        minLength: 5
        description: "New password"

  ContactFormRequest:
    type: object
    properties:
      customerName:
        type: string
      customerEmail:
        type: string
        format: email
      title:
        type: string
      message:
        type: string
    required:
      - customerName
      - customerEmail
      - message
      - title

  TicketEmailRequest:
    type: object
    required:
      - email
    properties:
      email:
        type: string
        format: email

  Discount:
    type: object
    properties:
      id:
        type: integer
        example: 42
        format: int64
      percentage:
        type: integer
        description: "Percentual discount size"
        example: 10
      passengers:
        type: integer
        description: "Maximal number of passengers"
        example: 3
      fromCountry:
        type: string
        description: "Country code value (see endpoint GET /consts/locations)"
        example: CZ
      fromCityId:
        type: integer
        format: int64
        description: "ID of the City from fromCountry (see endpoint GET /consts/locations)"
        example: 10202003
      fromStationId:
        type: integer
        format: int64
        description: "ID of the Station from fromCity (see endpoint GET /consts/locations)"
        example: 10204003
      toCountry:
        type: string
        description: "ID of the City from toCountry (see endpoint GET /consts/locations)"
        example: UK
      toCityId:
        type: integer
        format: int64
        description: "City ID (see endpoint GET /consts/locations)"
        example: 10202049
      toStationId:
        type: integer
        format: int64
        description: "ID of the Station from toCity (see endpoint GET /consts/locations)"
        example: 10204051
      dateFrom:
        type: string
        format: date-time
      dateTo:
        type: string
        format: date-time
      state:
        $ref: '#/definitions/DiscountState'
      ticketId:
        type: integer
        format: int64
        description: "If there is used discount there is as well ticket ID which is linked to it."
    required:
      - id
      - percentage
      - passengers
      - state

  VerifyDiscountRequest:
    type: object
    required:
      - route
      - actionPrice
      - passengers
      - ticketPrice
    properties:
      ticketPrice:
        type: number
        description: "Original ticket price (before applied discount)"
        example: 100
      route:
        $ref: '#/definitions/CreateTicketRouteRequest'
      actionPrice:
        $ref: '#/definitions/ActionPrice'
      passengers:
        type: array
        items:
          $ref: '#/definitions/Passenger'

  VerifiedDiscountResponse:
    type: object
    required:
      - amount
      - currency
      - discountedTicketPrice
    properties:
      amount:
        description: "Discount sum (states how much will be ticket cheaper after applying discount)"
        type: number
        example: 100
      currency:
        $ref: '#/definitions/Currency'
      discountedTicketPrice:
        description: "Original price after applying discount"
        type: number
        example: 200

  OrderedAddon:
    type: object
    required:
      - id
      - type
      - name
      - description
      - iconUrl
      - price
      - currency
      - conditions
      - state
    properties:
      id:
        type: integer
        format: int64
      type:
        $ref: '#/definitions/AccessoryType'
      name:
        type: string
        example: "Ski transportation"
      description:
        type: string
      iconUrl:
        type: string
      infoUrl:
        type: string
      infoUrlLabel:
        type: string
      price:
        type: number
        example: 150
      currency:
        $ref: '#/definitions/Currency'
      conditions:
        $ref: '#/definitions/PriceConditions'
      state:
        $ref: '#/definitions/OrderedAddonState'
      bill:
        $ref: '#/definitions/OrderedAccessoryBillItem'

  AccessoryType:
    type: string
    description: |
      * `FOOD` - Food.
      * `BAGGAGE_TRANSPORT` - Baggage transport.
      * `TICKET` - Ticket accessory.
    enum: [FOOD, BAGGAGE_TRANSPORT, TICKET]

  OrderedAddonState:
    type: string
    description: |
      * `UNPAID` - Ordered but unpaid addon.
      * `VALID` - Valid and paid addon.
      * `CANCELED` - Canceled from VALID state.
      * `DELETED` - Deleted from UNPAID state.
      * `NULLIFIED` - Nullified from VALID state.
      * `EXPIRED` - Expired automatically from UNPAID state.
      * `CANCELED_NOT_PROVIDED` - Addon was paid, but was not provided. Special cancellation was made for non-delivery.
      * `DELETED_NOT_PROVIDED` - Addon was not paid and was not provided. Special deletion was made for non-delivery.
    enum: [UNPAID, VALID, CANCELED, DELETED, NULLIFIED, EXPIRED, CANCELED_NOT_PROVIDED, DELETED_NOT_PROVIDED]

  OrderedAccessoryBillItem:
    type: object
    required:
      - amount
      - amountWithoutVat
      - vatRate
      - vatAmount
    properties:
      amount:
        type: number
      amountWithoutVat:
        type: number
      vatRate:
        type: number
      vatAmount:
        type: number

  AvailableAddon:
    type: object
    required:
      - addonId
      - addonCode
      - name
      - shortDescription
      - description
      - iconUrl
      - price
      - currency
      - conditions
    properties:
      addonId:
        type: integer
        format: int64
      addonCode:
        type: string
        example: "LYZE_50_rakousko_CZ"
      name:
        type: string
        example: "Ski transportation"
      shortDescription:
        type: string
      description:
        type: string
      iconUrl:
        type: string
      infoUrl:
        type: string
      infoUrlLabel:
        type: string
      price:
        type: number
        example: 150
      currency:
        $ref: '#/definitions/Currency'
      maxCount:
        description: "Maximal amount of current addon in one order. If no limit is set, this addon will be limitless"
        type: integer
        example: 5
      conditions:
        $ref: '#/definitions/AvailableAddonConditions'

  AvailableAddonConditions:
    type: object
    required:
      - code
    properties:
      descriptions:
        $ref: '#/definitions/AddonConditionsDescriptions'
      code:
        type: string
        description: "Control MD5 hash transformed from content conditions (used for check that user see actual conditions)"
        example: "AB42CAB42CAB42CAB42CAB42CAB42C5F"

  AvailableAddonsRequest:
    type: object
    required:
      - tariffs
      - routeSections
    properties:
      tariffs:
        type: array
        items:
          type: string
          example: "REGULAR"
      routeSections:
        type: array
        items:
          $ref: '#/definitions/RouteSectionRequest'
      ticketId:
        type: integer
        format: int64

  RouteSectionRequest:
    type: object
    required:
      - sectionId
      - departureStationId
      - arrivalStationId
    properties:
      sectionId:
        type: integer
        format: int64
        example: 3952652431
      departureStationId:
        type: integer
        format: int64
        example: 10204003
      arrivalStationId:
        type: integer
        format: int64
        example: 10204002
      selectedSeats:
        type: array
        items:
          $ref: '#/definitions/SelectedSeat_1_0_0'

  CancelTicketRequest:
    type: object
    required:
      - controlHash
    properties:
      controlHash:
        type: string
        description: "Hash (MD5) of cancellation terms, agreed on by the customer"
        example: "AB42CAB42CAB42CAB42CAB42CAB42C5F"
      refundToOriginalSource:
        type: boolean
        description: "TRUE if refund money after ticket cancel should return to original source, otherwise FALSE"
        example: false

  OrderAddonsRequest:
    type: object
    required:
      - selectedAddons
    properties:
      selectedAddons:
        type: array
        items:
          $ref: '#/definitions/SelectedAddon'

  AddonsVerifyRequest:
    type: object
    required:
      - selectedAddons
      - routeSections
      - tariffs
    properties:
      selectedAddons:
        type: array
        items:
          $ref: '#/definitions/SelectedAddon'
      routeSections:
        type: array
        items:
          $ref: '#/definitions/RouteSectionRequest'
      tariffs:
        type: array
        items:
          type: string
          example: "REGULAR"
      ticketId:
        type: integer
        format: int64

  SelectedAddon:
    type: object
    required:
      - addonId
      - count
      - price
      - currency
      - conditionsHash
    properties:
      addonId:
        type: integer
        format: int64
      count:
        type: integer
        example: 3
      price:
        type: number
      currency:
        $ref: '#/definitions/Currency'
      conditionsHash:
        type: string
        example: "AB42CAB42CAB42CAB42CAB42CAB42C5F"
        description: "Hash (MD5) of cancellation terms, agreed on by the customer"

  Symbol:
    type: object
    properties:
      mark:
        type: string
        example: "3"
      description:
        type: string
        example: "Steda"

  Timetable:
    type: object
    required:
      - connectionId
      - fromCityName
      - toCityName
      - connectionCode
      - stations
    properties:
      timetableId:
        type: integer
        description: "Timetable ID"
        format: int64
      connectionId:
        type: integer
        description: "Connection ID"
        format: int64
      fromCityName:
        type: string
        description: "Departure city"
        example: Prague
      toCityName:
        type: string
        description: "Arrival city"
        example: Brno
      validFrom:
        type: string
        format: date
        example: "2022-03-10"
      validTo:
        type: string
        format: date
        example: "2022-06-11"
      direction:
        type: string
        enum: ["there", "back"]
      timeCodes:
        type: array
        description: "Timecodes used in this timetable"
        items:
          type: number
          example: 10
      symbols:
        type: array
        description: "Symbols used in this timetable"
        items:
          type: string
          example: "<"
      connectionCode:
        type: string
        description: "Type and code of the connection"
        example: RJ 1008
      carrierId:
        type: integer
        format: int64
      stations:
        type: array
        description: "Individual stations (including metadata) sort according to order which connection builds." #TODO: pln jsem neporozumnl posledn vt
        items:
          $ref: '#/definitions/TimetableStation'

  TimeTableLine:
    type: object
    properties:
      name:
        type: string
        example: "Vlakov linka: Praha  Brno  Bratislava  Budapest  Ogulin  Rijeka/Graca  Split"
      validFrom:
        type: string
        format: date
        example: "28.05.2021"
      validTo:
        type: string
        format: date
        example: "27.09.2021"
      timeTable:
        type: integer
        example: 5508998009
      lineGroupCode:
        type: string
        example: "WEB"
      lineNumber:
        type: integer
        example: 0

  TimetableStation:
    type: object
    required:
      - stationId
    properties:
      stationId:
        type: integer
        format: int64
        description: "Station ID used for search in locations"
        example: 10204003
      departure:
        type: string
        format: time
        description: "Planned station departure time (1st station in order does not have arrival time)"
        example: "9:45"
      arrival:
        type: string
        format: time
        description: "Planned station arrival time (1st station in order does not have arrival time)"
        example: "10:00"
      symbols:
        type: array
        description: "Symbols used in this station"
        items:
          type: string
          example: "<"
      platform:
        type: string
        description: "Platform"
        example:
          - "BUS: 3"
          - "BUS: S2"
          - "BUS: street name (used extraordinarily for example during lockout or detour)"
          - "TRAIN: 2/1"
          - "TRAIN: -/1"
          - "TRAIN: 1/-"
          - "TRAIN: -/-"

  TimeCode:
    type: object
    properties:
      mark:
        type: integer
        example: 12
      description:
        type: string
        example: "Nejede 16. 11."
      items:
        type: array
        items:
          $ref: '#/definitions/TimeCodeItem'

  TimeCodeItem:
    type: object
    properties:
      type:
        type: string
        enum: [INCLUDING, INCLUDING_ALSO, EXCLUDING]
        example: EXCLUDING
      from:
        type: string
        format: date
        example: "16.11.2021"
      to:
        type: string
        format: date
        example: "16.11.2021"

  TransfersInfo:
    type: object
    required:
      - info
      - transfers
    properties:
      info:
        type: string
        description: "Accompanying informations about transfers"
        example: "Connections planned as follow-up in event of delay there can happen re-reservation to follow-up connection or refund money for unused part of route"
      transfers:
        type: array
        items:
          $ref: '#/definitions/Transfer'

  Transfer:
    type: object
    description: "Informations about individual transfers (transfer order coincides with individual section order => 1st transfer is between 1st and 2nd section...). calculatedTransferTime is calculated tranfer time in minutes (departure time - arrival time), determinedTransferTime is used time in minutes needed for transfer."
    required:
      - fromStationId
      - toStationId
      - calculatedTransferTime
      - type
    properties:
      fromStationId:
        type: integer
        format: int64
        description: "Station ID from which customer needs to transfer"
        example: 10204003
      toStationId:
        type: integer
        format: int64
        description: "Station ID to which customer needs to transfer"
        example: 372825000
      type:
        $ref: '#/definitions/TransferType'
      calculatedTransferTime:
        $ref: '#/definitions/TimePeriod'
      determinedTransferTime:
        $ref: '#/definitions/TimePeriod'
      description:
        type: string
        description: "Transfer specification"
        example: "Bus station can be found right opossite train station. Station is marked with sign Autobusov stanica. Go after yellow RegioJet buses which leaves from platform number 21."


  TransferType:
    type: string
    enum: [NONE, WALKING, PUBLIC_TRANSPORT]
    description: |
      * `NONE` - Transfer between platforms within one station
      * `WALKING` - Transfer by walk
      * `PUBLIC_TRANSPORT` - Public transportation transfer

  PersonalDataType:
    type: string
    enum: [FIRST_NAME, SURNAME, BIRTHDAY, EMAIL, PHONE, ZIP_CODE, PERSONAL_NUMBER, STREET, HOUSE_NUMBER, CITY]

  PrintInvoicesRequest:
    type: object
    required:
      - invoices
    properties:
      invoices:
        type: array
        items:
          type: integer
          format: int64
          description: "groupTransactionID"

  TimePeriod:
    type: object
    properties:
      days:
        type: integer
        description: "Number of days"
        example: 10
      hours:
        type: integer
        description: "Number of hours"
        example: 23
      minutes:
        type: integer
        description: "Number of minutes"
        example: 54

  CodeDiscount:
    description: "Flat rate discount"
    type: object
    required:
      - id
      - code
      - discount
    properties:
      id:
        type: integer
        format: int64
        description: "Flat rate discount ID"
        example: 304959504432
      code:
        type: string
        description: "Five-digit discount code"
        example: "E4l.d"
      discount:
        type: number
        description: "Flat rate discount sum in ticket currency"
        example: 100

  PercentualDiscount:
    description: "Percentual discount"
    type: object
    properties:
      id:
        type: integer
        example: 42
        format: int64
      percentage:
        type: integer
        description: "Size of a percentual discount"
        example: 10
      amount:
        type: number
        description: "Discount sum in account currency"
        example: 1250
      passengers:
        type: integer
        description: "Maximal number of passengers"
        example: 3
      fromLocation:
        type: string
        description: "Default departure country/city/station translations"
        example: Prague
      toLocation:
        type: string
        description: "Default arrival country/city/station translations"
        example: Brno
      dateFrom:
        type: string
        format: date-time
      dateTo:
        type: string
        format: date-time
    required:
      - id
      - percentage
      - amount
      - passengers

  DiscountState:
    type: string
    enum: [VALID, USED, EXPIRED]
    description: |
      * `VALID` - Valid discount
      * `USED` - Invalid (used) discount
      * `EXPIRED` - Invalid (expired) discount

  PassengerChangeResponse:
    description: "Result of customer change request"
    type: object
    properties:
      charge:
        type: number
        description: "User information change charge (in ticket currency)"
        example: 200

  AddonConditionsDescriptions:
    type: object
    description: "Text expression of multiple condition types linked to PriceConditions"
    properties:
      cancel:
        type: string
        description: "Cancel charge"
        example: "More than 15 minutes before departure: 0 %, less than 15 minutes: cannot be canceled"
      rebook:
        type: string
        description: "Change of reservation"
        example: "More than 15 minutes before departure: cancel for 0 CZK, less than 15 minutes: cannot be re-reservated"
      expiration:
        type: string
        description: "Payment expiration"
        example: "3 minutes (18.12.17 11:32 SE)"

  RouteSeatsResponse_1_2_0:
    type: object
    required:
      - sectionId
      - fixedSeatReservation
    properties:
      sectionId:
        type: integer
        format: int64
        example: 3804436614
      fixedSeatReservation:
        type: boolean
        description: "TRUE => seat reservation; FALSE => seat choosed while boarding"
      vehicles:
        type: array
        items:
          $ref: '#/definitions/Vehicle_1_2_0'
      selectedSeats:
        type: array
        items:
          $ref: '#/definitions/SelectedSeat_1_0_0'

  RouteSeatsResponse:
    type: object
    required:
      - sectionId
      - fixedSeatReservation
    properties:
      sectionId:
        type: integer
        format: int64
        example: 3804436614
      fixedSeatReservation:
        type: boolean
        description: "TRUE => seat reservation; FALSE => seat choosed while boarding"
      vehicles:
        type: array
        items:
          $ref: '#/definitions/Vehicle'
      selectedSeats:
        type: array
        items:
          $ref: '#/definitions/SelectedSeat'

  DeletePassengerRequest:
    type: object
    required:
      - seats
      - refundToOriginalSource
    properties:
      seats:
        type: array
        description: "List of seats which is about to be canceled. Reservation in non-seat-reservation connection isnt included in this list."
        items:
          $ref: '#/definitions/SelectedSeat_1_0_0'
      refundToOriginalSource:
        type: boolean
        example: false

  Carrier:
    type: object
    required:
      - carrierId
      - carrierInfo
      - businessName
      - code
      - phoneNumber
      - headquarters
    properties:
      carrierId:
        type: integer
        format: int64
      carrierInfo:
        description: "Informace o dopravci"
        type: string
        example: "REGIOJET a.s., IO: 47231271, DI: SK2023157763, www.regiojet.sk, +421220502020, pepravn podmnky: https://www.regiojet.cz/dokumenty/prepravni-rad/prepravni_rad_autobus-regiojet-sk.pdf"
      businessName:
        type: string
        example: "REGIOJET a.s."
      code:
        type: string
        example: "RJ_SK"
      websiteUrl:
        type: string
        example: "www.regiojet.sk"
      phoneNumber:
        type: string
        example: "+421220502020"
      headquarters:
        type: string
        example: "Obchodn 48, 811 06 Bratislava"

  DepartureConnection:
    type: object
    properties:
      connectionId:
        type: integer
        format: int64
        description: "ID of the connection"
      label:
        type: string
      number:
        type: string
      delay:
        type: integer
        description: "Information about the delay in minutes on a given connection"
        example: "15"
      vehicleCategory:
        $ref: '#/definitions/VehicleCategory'
      freeSeatCount:
        type: integer
      stations:
        type: array
        description: "Individual stations (including metadata) sort according to order which connection builds."
        items:
          $ref: '#/definitions/DepartureConnectionStation'
      vehicleStandard:
        type: string
        enum: [YELLOW, YELLOW_R8, ECONOMY, FUN_RELAX, FUN_RELAX_SELF_SERVICE, FUN_RELAX_NO_STEWARD, DEUTSCHE_BAHN, ECONOMY_PLATFORM,
               RESTAURANT, SAD, WEST_BAHN, IDS_JMK, OBB, UKRAINIAN_RAILWAYS]
        description: "Vehicle standard code."

  ArrivalConnection:
    type: object
    properties:
      connectionId:
        type: integer
        format: int64
        description: "ID of the connection"
      label:
        type: string
      number:
        type: string
      delay:
        type: integer
        description: "Information about the delay in minutes on a given connection"
        example: "15"
      vehicleCategory:
        $ref: '#/definitions/VehicleCategory'
      freeSeatCount:
        type: integer
      stations:
        type: array
        description: "Individual stations (including metadata) sort according to order which connection builds."
        items:
          $ref: '#/definitions/ArrivalConnectionStation'
      vehicleStandard:
        type: string
        enum: [ YELLOW, YELLOW_R8, ECONOMY, FUN_RELAX, FUN_RELAX_SELF_SERVICE, FUN_RELAX_NO_STEWARD, DEUTSCHE_BAHN, ECONOMY_PLATFORM,
                RESTAURANT, SAD, WEST_BAHN, IDS_JMK, OBB, UKRAINIAN_RAILWAYS ]
        description: "Vehicle standard code."

  VehicleCategory:
    type: string
    enum: [COACH, AIRCRAFT, RAIL_CAR]
    description: |
      * `COACH` - Bus
      * `AIRCRAFT` - Airplane
      * `RAIL_CAR` - Train or wagon

  DepartureConnectionStation:
    type: object
    required:
      - stationId
    properties:
      stationId:
        type: integer
        format: int64
        description: "Station ID used for search in locations"
        example: 10204003
      departure:
        type: string
        format: time
        description: "Planned station departure time (1st station in order does not have arrival time)"
        example: "9:45"
      platform:
        type: string
        description: "Platform"
        example:
          - "BUS: 3"
          - "BUS: S2"
          - "BUS: street name (used extraordinarily for example during lockout or detour)"
          - "TRAIN: 2/1"
          - "TRAIN: -/1"
          - "TRAIN: 1/-"
          - "TRAIN: -/-"

  ArrivalConnectionStation:
    type: object
    required:
      - stationId
    properties:
      stationId:
        type: integer
        format: int64
        description: "Station ID used for search in locations"
        example: 10204003
      arrival:
        type: string
        format: time
        description: "Planned station arrival time (1st station in order does not have arrival time)"
        example: "10:00"
      platform:
        type: string
        description: "Platform"
        example:
          - "BUS: 3"
          - "BUS: S2"
          - "BUS: street name (used extraordinarily for example during lockout or detour)"
          - "TRAIN: 2/1"
          - "TRAIN: -/1"
          - "TRAIN: 1/-"
          - "TRAIN: -/-"

  AccountTimeTickets:
    type: object
    required:
      - accountCode
      - ids
      - tickets
    properties:
      accountCode:
        type: string
        description: "User account code"
        example: "654874555"
      ids:
        type: array
        description: "User time ticket ids."
        items:
          type: "integer"
          format: "int64"
      tickets:
        type: array
        description: "User time tickets."
        items:
          $ref: '#/definitions/TimeTicket'

  TimeTicket:
    type: object
    description: "Object representing time ticket"
    required:
      - id
      - accountCode
      - ticketCode
      - price
      - unpaid
      - state
      - name
      - surName
      - tariff
      - type
      - seatClass
      - validFrom
      - validTo
      - station1Id
      - station2Id
      - bills
      - conditions
      - customerActions
      - paymentId
    properties:
      id:
        type: integer
        format: int64
        description: ID of the ticket
        example: 3895569002
      accountCode:
        type: string
        example: "554444485"
      ticketCode:
        type: string
        example: "65844485"
      price:
        type: number
        example: 540
      unpaid:
        type: number
        example: 0
      name:
        type: string
        example: "Jan"
      surName:
        type: string
        example: "Drda"
      tariff:
        $ref: '#/definitions/Tariff'
      type:
        $ref: '#/definitions/TimeTicketType'
      state:
        $ref: '#/definitions/TicketState'
      seatClass:
        type: string
        example: C1
      conditions:
        $ref: '#/definitions/TimeTicketConditions'
      customerNotifications:
        type: array
        items:
          type: string
          example: "Line is servised by partner carrier bus MT-Lines"
      customerActions:
        $ref: '#/definitions/CustomerActions'
      bills:
        type: array
        items:
          $ref: '#/definitions/TimeTicketBill'
      station1Id:
        type: integer
        format: int64
      station2Id:
        type: integer
        format: int64
      validFrom:
        type: string
        format: date-time
        example: "2018-02-17T00:50:00.000+02:00"
      validTo:
        type: string
        format: date-time
        example: "2018-02-17T00:50:00.000+02:00"
      paymentId:
        type: integer
        format: int64
        description: "Time ticket group transaction ID"
        example: "5135497001"

  TimeTicketBill:
    type: object
    required:
      - amount
      - currency
      - label
    properties:
      amount:
        type: number
      currency:
        $ref: '#/definitions/Currency'
      label:
        type: string

  TimeTicketConditions:
    type: object
    required:
      - cancel
      - expireAt
    properties:
      cancel:
        type: string
        format: date-time
        description: "Time to cancel ticket"
      expireAt:
        type: string
        format: date-time
        description: "The time when ticket expires"

  UnregisteredTimeTicketCreateInfo:
    type: object
    required:
      - timeTicketIds
    properties:
      timeTicketIds:
        type: array
        items:
          type: integer
          format: int64
          example: "10204002"

  SroRoute:
    type: object
    required:
      - id
      - departureStationId
      - departureTime
      - arrivalTime
      - vehicleTypes
      - transferCount
      - priceFrom
      - priceTo
      - priceCount
      - notices
      - support
      - nationalTrip
      - delay
      - travelTime
      - vehicleStandard
    properties:
      id:
        type: string
        description: "{section0.id},{section1.id}, ..."
      # Departure
      departureStationId:
        type: integer
        format: int64
        example: 4987881000
      departureTime:
        type: string
        format: date-time
        example: "2020-11-18T09:41:00.000+02:00"
      # Arrival
      arrivalStationId:
        type: integer
        format: int64
        example: 4961583004
      arrivalTime:
        type: string
        format: date-time
        example: "2020-11-18T10:41:00.000+02:00"
      #Typy spoj
      vehicleTypes:
        type: array
        description: "Vehicle types (for example: train, bus)"
        items:
          $ref: '#/definitions/VehicleType'
      # Poet pestup
      transfersCount:
        type: integer
        description: "Number of transfers"
        example: 0
      # Poet mst

      # Ceny a ocenn
      priceFrom:
        type: number
        example: 169
        description: "Lowest found price."
      priceTo:
        type: number
        example: 1209
        description: "Highest found price."
      pricesCount:
        type: integer
        example: 2
        description: "Overall number of found prices."

      notices:
        type: boolean
        description: "Notice of any extraordinarily events on route / traffic limitation"
        example: true
      support:
        type: boolean
        description: "TRUE if this line (or its part) have support connection, otherwise FALSE"
        example: true
      nationalTrip:
        type: boolean
        description: "TRUE => national, FALSE => international"
        example: true
      delay:
        type: string
        description: "Textual information about the first delay on the route"
        example: "00:15 h"
      travelTime:
        type: string
        description: "Textual information about the travel time on the route"
        example: "03:30 h"
      vehicleStandard:
        type: string
        example: "FUN_RELAX"
        description: "Vehicle standard code."

  SroRouteDetail:
    type: object
    required:
      - id
      - priceClasses
    properties:
      id:
        type: string
        description: "{section0.id},{section1.id}, ..."
      priceClasses:
        type: array
        items:
          $ref: '#/definitions/SroPriceClass'

  SroPriceClass:
    type: object
    required:
      - seatClassKey
      - freeSeatsCount
      - price
      - priceSource
      - numberOfPassengers
      - conditions
    properties:
      seatClassKey:
        type: string
        example: "C0"
        description: "Seat class code."
      freeSeatsCount:
        type: integer
        example: 133
      price:
        type: number
        example: 35.00
      priceSource:
        type: string
        example: "PHN-BHN_ONLINE_RJ_SRO_449356704_C0_CZK_HIGH_50_1820513028"
      numberOfPassengers:
        type: integer
        example: 1
      conditions:
        $ref: '#/definitions/SroPriceConditions'

  SroPriceConditionsDescriptions:
    type: object
    required:
      - coolingOff
      - departureCancel
      - expiration
    properties:
      coolingOff:
        type: array
        items:
          type: string
          example: "15 minut po zaplacen: 0%"
      departureCancel:
        type: array
        items:
          type: string
          example: "15 minut do odjezdu: 0%"
      expiration:
        type: array
        items:
          type: string
          example: "15 minut po rezervaci"

  SroCancelCharge:
    type: object
    required:
      - message
      - amount
      - currency
      - percent
    properties:
      message:
        type: string
        example: "Storno mstenky"
      amount:
        type: number
        example: 5.00
      currency:
        type: string
        example: "CZK"
      percent:
        type: integer
        example: 15

  SroPriceConditions:
    type: object
    required:
      - descriptions
      - refundToOriginalSourcePossible
      - cancelCharge
      - cancelCharges
    properties:
      descriptions:
        $ref: '#/definitions/SroPriceConditionsDescriptions'
      refundToOriginalSourcePossible:
        type: boolean
        example: false
      cancelCharge:
        type: number
        example: 5.00
      cancelCharges:
        type: array
        items:
          $ref: '#/definitions/SroCancelCharge'

  SroConditions:
    type: object
    required:
      - coolingOff
      - departureCancel
      - expiration
      - cancellationFee
      - code
    properties:
      coolingOff:
        type: string
        format: date-time
        description: "CoolingOff Time for sro ticket"
      departureCancel:
        type: string
        format: date-time
        description: "Departure Cancel Time for sro ticket"
      expiration:
        type: string
        format: date-time
        description: "Expiration Time for sro ticket"
      cancellationFee:
        type: number
        description: "Cancellation Fee price for sro ticket, addons etc."
        example: 50
      code:
        type: string
        example: "AB42CAB42CAB42CAB42CAB42CAB42C5F"

  CreateSroTicketsAsUnregisteredUserRequest:
    type: object
    required:
      - agreeWithTerms
      - ticketRequests
      - affiliateCode
    properties:
      agreeWithTerms:
        type: boolean
        example: true
      ticketRequests:
        type: array
        items:
          $ref: '#/definitions/SroTicketRequest'
      affiliateCode:
        type: string
        example: "affcode123456"

  CreateSroTicketsAsRegisteredUserRequest:
    type: object
    required:
      - ticketRequests
    properties:
      ticketRequests:
        type: array
        items:
          $ref: '#/definitions/SroTicketRequest'
      affiliateCode:
        type: string
        example: "affcode123456"
      externalId:
        type: string
        example: "EXTERNAL-ID"

  SroTicketRequest:
    type: object
    required:
      - routeId
      - priceSourceId
      - seatClass
      - sections
      - passengers
    properties:
      routeId:
        type: string
        example: "3804436614"
      priceSourceId:
        type: string
        example: "PHN-BHN_ONLINE_RJ_SRO_449356704_C0_CZK_NORMAL_35_1084776538"
      seatClass:
        type: string
        example: "C0"
      sections:
        type: array
        items:
          $ref: '#/definitions/SroTicketSections'
      passengers:
        type: array
        items:
          $ref: '#/definitions/SroTicketPassenger'

  SroTicketSections:
    type: object
    required:
      - sections
      - selectedSeats
    properties:
      section:
        $ref: '#/definitions/SroTicketSection'
      selectedSeats:
        type: array
        items:
          $ref: '#/definitions/SroTicketSelectedSeat'

  SroTicketSection:
    type: object
    required:
      - sectionId
      - fromStationId
      - toStationId
    properties:
      sectionId:
        type: integer
        format: int64
        example: 3804436614
      fromStationId:
        type: integer
        format: int64
        example: 3804436614
      toStationId:
        type: integer
        format: int64
        example: 10204002

  SroTicketSelectedSeat:
    type: object
    required:
      - sectionId
      - vehicleNumber
      - seatIndex
    properties:
      sectionId:
        type: integer
        format: int64
        example: 3804436614
      vehicleNumber:
        type: integer
        example: 7
      seatIndex:
        type: integer
        example: 15

  SroTicketPassenger:
    type: object
    required:
      - id
      - firstName
      - lastName
      - phone
      - email
      - dateOfBirth
      - address
      - personalId
      - amount
      - moneyBack
    properties:
      id:
        type: integer
        format: int64
        example: 3895574004
      firstName:
        type: string
        example: "First"
      lastName:
        type: string
        example: "Passenger"
      phone:
        type: string
        example: "+420777666777"
      email:
        type: string
        example: "first.passenger@email.com"
      dateOfBirth:
        type: string
        format: date
        example: "1988-07-21"
      address:
        type: string
        example: "testovaci, Test"
      personalId:
        type: string
        example: "45678877"
      amount:
        type: string
        example: "100"
      moneyBack:
        type: string
        example: "90"

  SroTicket:
    type: object
    required:
      - sroTicketId
      - price
      - unpaid
      - currency
      - state
      - seatClassKey
      - conditions
      - customerActions
      - routeSections
      - paymentId
      - bills
      - passengersInfo
      - delay
      - travelTime
      - estimatedArrivalTime
      - affiliateTicket
    properties:
      sroTicketId:
        type: integer
        format: int64
        example: "1320454002"
      price:
        type: number
        description: "Final price for ticket, addons etc."
        example: 540
      unpaid:
        type: number
        description: "Final price to be paid"
        example: 0
      currency:
        $ref: '#/definitions/Currency'
      state:
        $ref: '#/definitions/TicketState'
      seatClassKey:
        type: string
        example: C1
      conditions:
        $ref: '#/definitions/SroConditions'
      customerActions:
        $ref: '#/definitions/CustomerActions'
      routeSections:
        type: array
        items:
          $ref: '#/definitions/TicketSection'
      paymentId:
        type: integer
        format: int64
        description: "Payment ID (groupTransactionID). Available only with paid ticket. Necessary for further action with ticket (for example: print invoice)"
        example: 3951798008
      bills:
        type: array
        items:
          $ref: '#/definitions/SroTicketBill'
      passengersInfo:
        $ref: '#/definitions/SroTicketPassenger'
      delay:
        type: string
        description: "Textual information about the first delay on the route"
        example: "00:15 h"
      travelTime:
        type: string
        description: "Textual information about the travel time on a given section"
        example: "01:10 h"
      estimatedArrivalTime:
        type: string
        format: date-time
        example: "2018-02-17T00:50:00.000+02:00"
        description: "Estimated arrival date time (arrival + delay)"
      affiliateTicket:
        type: boolean
        description: "Returns true in case the ticket was crited by affiliate partner."

  CustomerDevice:
    type: object
    properties:
      uuid:
        type: string
        description: "ID of a client device."
        example: "f81d4fae-7dec-11d0-a765-00a0c91e6bf6"
      fcmToken:
        type: string
        description: "FCM token (RS256 => RSA Signature with SHA-256) that notifies customer via firebase"
        example: "..."

  ActionToken:
    type: string
    example: "1wUJGbgj"

  TimeTicketPrice:
    type: object
    required:
      - seatClassKey
      - price
      - lineGroupCode
      - lineNumber
    properties:
      seatClassKey:
        type: string
        description: "PricedSeatClass enum.name"
        example: "TRAIN_STANDARD"
      price:
        type: number
        description: "TimeTicket price for pricedSeatClass in requested currency"
        example: 145
      lineGroupCode:
        type: string
        description: "Line group code."
        example: "VLAK_R8"
      lineNumber:
        type: integer
        format: int32
        description: "Line number."
        example: 270

  VehicleSeatClass:
    type: object
    required:
      - name
      - services
    properties:
      name:
        type: string
        example: 'C1'
      services:
        type: array
        items:
          $ref: '#/definitions/SeatClassService'

  SeatClassService:
    type: object
    required:
      - code
      - name
      - imageCode
    properties:
      code:
        type: string
        example: 'Vuz B (66)-C0-Wi-Fi'
      name:
        type: string
        example: 'Wi-Fi'
      imageCode:
        type: string
        example: 'typy_vozidel_wifi_ano'

  VehicleDeck:
    required:
      - number
      - name
      - freeSeats
      - occupiedSeats
    properties:
      number:
        type: integer
      name:
        type: string
      layoutURL:
        type: string
      horizontalLayoutURL:
        type: string
      freeSeats:
        type: array
        items:
          $ref: '#/definitions/Seat'
      occupiedSeats:
        type: array
        items:
          $ref: '#/definitions/Seat'

  ApplicationOrigin:
    type: string
    enum:
      - APP
      - AFF
      - CAT
      - OCT
      - DEV
      - DOT
      - NOT
      - WEB
      - KSK

  TicketType:
    type: string
    enum:
      - RJ_SEAT
      - RJ_TIME
      - RJ_SRO

  IdentityAccount:
    type: object
    required:
      - code
      - balance
    properties:
      code:
        type: string
        example: '0123456789'
      balance:
        $ref: '#/definitions/AmountCurrency'

  AmountCurrency:
    type: object
    required:
      - amount
      - currency
    properties:
      amount:
        type: number
        example: 15.50
      currency:
        $ref: '#/definitions/Currency'

  GroupCapability:
    type: string
    enum:
      - INTERSTATE_SALE
      - DOMESTIC_SALE_CZ
      - DOMESTIC_SALE_SK
      - LIMITED_SALE
      - CUSTOMER_CARD_SALE
      - COMPENSATIONS
      - PAYMENT_CARD
      - EUR_PAYMENT
      - DEUTSCHE_BAHN_TICKETS

  PointOfSale:
    type: object
    required:
      - name
      - country
      - city
      - street
      - openingHours
      - services
      - longitude
      - latitude
    properties:
      name:
        type: string
        example: '101 CK Zemek, s.r.o.'
      country:
        type: string
        example: 'CZ'
      city:
        type: string
        example: 'Star Boleslav, 250 01'
      street:
        type: string
        example: 'Mlnick 31'
      openingHours:
        type: string
        example: '12:00'
      services:
        type: array
        items:
          $ref: '#/definitions/GroupCapability'
      longitude:
        type: number
        example: 16.6142520904541015625
        description: "GPS - longitude"
      latitude:
        type: number
        example: 49.19335556030269884786321199499070644378662109375
        description: "GPS - latitude"

  IntegratedTransportSystem:
    type: object
    required:
      - name
      - description
      - superZones
    properties:
      name:
        type: string
        description: ITS name as a localized string intended to be shown in user interface.
      description:
        type: string
        description: ITS description as a localized string intended to be shown in user interface.
      superZones:
        type: array
        description: List of super zones in this ITS.
        items:
          $ref: '#/definitions/Superzone'
    description: Integrated transport system - ITS (IDS in Czech). Root object of the object graph (tree) describing whole ITS.

  Superzone:
    type: object
    required:
      - name
      - description
      - zones
    properties:
      name:
        type: string
        description: Superzone localized name intended to be shown in user interface.
      description:
        type: string
        description: Superzone city description
      zones:
        type: array
        description: List of zones in this superzone.
        items:
          $ref: '#/definitions/Zone'
    description: Super zone contains one or more zones.

  Zone:
    type: object
    required:
      - name
      - description
    properties:
      name:
        type: string
        description: Name of zone as a localized string intended to be shown in user interface.
      description:
        type: string
        description: Zone city description
    description: Zone within the context of Integrated Transport System. It affects tarrif (price) of the ticket.

  AccountTypeResponse:
    type: object
    properties:
      accountType:
        type: string
        enum:
          - ANONYMOUS
          - CREDIT
          - LINKED_TO_IDENTITY

  Locale:
    type: string
    enum:
      - cs
      - sk
      - en
      - de
      - at
      - pl
      - hu
      - es
      - fr
      - ru
      - zh
      - uk
    example: cs
