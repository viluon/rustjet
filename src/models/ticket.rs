/*
 * RegioJet API
 *
 * A set of endpoints to interact with RegioJet transport services. Search for connections, book tickets, see the list of served stations and more. All endpoints consume and produce JSON strings, with the exception of ticket printing (/tickets/{ticketId}/print) that produce printable HTML code.
 *
 * The version of the OpenAPI document: 1.2.0
 * Contact: developers@studentagency.cz
 * Generated by: https://openapi-generator.tech
 */

use crate::models;
use serde::{Deserialize, Serialize};

/// Ticket : expirationDate is date-time value states when ticket expires. ExpiresAt states how many days, hours and minutes left to ticket expiration.
#[derive(Clone, Default, Debug, PartialEq, Serialize, Deserialize)]
pub struct Ticket {
    /// ID of the ticket
    #[serde(rename = "id")]
    pub id: i64,
    /// Unique code of a ticket.
    #[serde(rename = "ticketCode")]
    pub ticket_code: String,
    /// route id (section0.id,section1.id, ... sectionx.id)
    #[serde(rename = "routeId")]
    pub route_id: String,
    /// A name of an action.
    #[serde(rename = "actionName", skip_serializing_if = "Option::is_none")]
    pub action_name: Option<String>,
    /// Final price for ticket, addons etc.
    #[serde(rename = "price")]
    pub price: f64,
    /// Final price to be paid
    #[serde(rename = "unpaid")]
    pub unpaid: f64,
    #[serde(rename = "currency")]
    pub currency: models::Currency,
    #[serde(rename = "state")]
    pub state: models::TicketState,
    #[serde(rename = "seatClassKey")]
    pub seat_class_key: String,
    #[serde(rename = "conditions")]
    pub conditions: Box<models::PriceConditions>,
    #[serde(rename = "expirationDate", skip_serializing_if = "Option::is_none")]
    pub expiration_date: Option<String>,
    #[serde(rename = "expirateAt", skip_serializing_if = "Option::is_none")]
    pub expirate_at: Option<Box<models::TimePeriod>>,
    #[serde(
        rename = "customerNotifications",
        skip_serializing_if = "Option::is_none"
    )]
    pub customer_notifications: Option<Vec<String>>,
    #[serde(rename = "customerActions")]
    pub customer_actions: Box<models::CustomerActions>,
    #[serde(rename = "routeSections")]
    pub route_sections: Vec<models::TicketSection>,
    #[serde(rename = "addons", skip_serializing_if = "Option::is_none")]
    pub addons: Option<Vec<models::OrderedAddon>>,
    /// Payment ID (groupTransactionID). Available only with paid ticket. Necessary for further action with ticket (for example: print invoice)
    #[serde(rename = "paymentId", skip_serializing_if = "Option::is_none")]
    pub payment_id: Option<i64>,
    #[serde(rename = "bills", skip_serializing_if = "Option::is_none")]
    pub bills: Option<Vec<models::TicketBill>>,
    #[serde(rename = "usedCodeDiscount", skip_serializing_if = "Option::is_none")]
    pub used_code_discount: Option<Box<models::CodeDiscount>>,
    /// Applied procentual discounts
    #[serde(
        rename = "usedPercentualDiscounts",
        skip_serializing_if = "Option::is_none"
    )]
    pub used_percentual_discounts: Option<Vec<models::PercentualDiscount>>,
    #[serde(rename = "transfersInfo", skip_serializing_if = "Option::is_none")]
    pub transfers_info: Option<Box<models::TransfersInfo>>,
    /// Total count of all irreversible surcharges in current currency
    #[serde(rename = "surcharge", skip_serializing_if = "Option::is_none")]
    pub surcharge: Option<f64>,
    /// Total count of all charges and surcharge
    #[serde(rename = "cancelChargeSum", skip_serializing_if = "Option::is_none")]
    pub cancel_charge_sum: Option<f64>,
    /// Total count of reversible amounts
    #[serde(rename = "cancelMoneyBackSum", skip_serializing_if = "Option::is_none")]
    pub cancel_money_back_sum: Option<f64>,
    #[serde(rename = "passengersInfo")]
    pub passengers_info: Box<models::PassengersInfo>,
    /// Textual information about the first delay on the route
    #[serde(rename = "delay", skip_serializing_if = "Option::is_none")]
    pub delay: Option<String>,
    /// Textual information about the travel time on a given section
    #[serde(rename = "travelTime", skip_serializing_if = "Option::is_none")]
    pub travel_time: Option<String>,
    /// Estimated arrival date time (arrival + delay)
    #[serde(
        rename = "estimatedArrivalTime",
        skip_serializing_if = "Option::is_none"
    )]
    pub estimated_arrival_time: Option<String>,
    /// Returns true in case the ticket was crited by affiliate partner.
    #[serde(rename = "affiliateTicket", skip_serializing_if = "Option::is_none")]
    pub affiliate_ticket: Option<bool>,
    /// A flag that indicates whether it is possible or not to order a wheelchair platform for this ticket.
    #[serde(rename = "wheelChairPlatformOrderPossible")]
    pub wheel_chair_platform_order_possible: bool,
    /// A flag that indicates whether is ordered a wheelchair platform for this ticket.
    #[serde(rename = "wheelChairPlatformOrdered")]
    pub wheel_chair_platform_ordered: bool,
    #[serde(rename = "carbonOffset", skip_serializing_if = "Option::is_none")]
    pub carbon_offset: Option<Box<models::AmountCurrency>>,
}

impl Ticket {
    /// expirationDate is date-time value states when ticket expires. ExpiresAt states how many days, hours and minutes left to ticket expiration.
    pub fn new(
        id: i64,
        ticket_code: String,
        route_id: String,
        price: f64,
        unpaid: f64,
        currency: models::Currency,
        state: models::TicketState,
        seat_class_key: String,
        conditions: models::PriceConditions,
        customer_actions: models::CustomerActions,
        route_sections: Vec<models::TicketSection>,
        passengers_info: models::PassengersInfo,
        wheel_chair_platform_order_possible: bool,
        wheel_chair_platform_ordered: bool,
    ) -> Ticket {
        Ticket {
            id,
            ticket_code,
            route_id,
            action_name: None,
            price,
            unpaid,
            currency,
            state,
            seat_class_key,
            conditions: Box::new(conditions),
            expiration_date: None,
            expirate_at: None,
            customer_notifications: None,
            customer_actions: Box::new(customer_actions),
            route_sections,
            addons: None,
            payment_id: None,
            bills: None,
            used_code_discount: None,
            used_percentual_discounts: None,
            transfers_info: None,
            surcharge: None,
            cancel_charge_sum: None,
            cancel_money_back_sum: None,
            passengers_info: Box::new(passengers_info),
            delay: None,
            travel_time: None,
            estimated_arrival_time: None,
            affiliate_ticket: None,
            wheel_chair_platform_order_possible,
            wheel_chair_platform_ordered,
            carbon_offset: None,
        }
    }
}
